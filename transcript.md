Meet Xdesign.ai, a full stack AI mobile 
 design agent you build and deploy where 
 you simply write a prompt and boom, the 
 AI generates a clean modern mobile UI on 
 a dragable canvas with custom team PNG 
 export regeneration and much more. We 
 rebuild xdsign.ai using whisma 
 inest and client. Now let's dive 
 straight into the demo. Also don't 
 forget to subscribe and turn on 
 notification. On the homepage, we paste 
 in a prompt and then hit the design. And 
 this is going to create the project and 
 redirect us to the um Canva screen where 
 you can see the AI is already generating 
 the screen. So, it's going to analyze 
 and then generate the screen. So, it's 
 currently generating and very soon we 
 going to see the number of screens it is 
 going to generate um in the loading 
 state. So, let's wait for this to uh 
 display. 
 Now we can see that the AI has shown the 
 uh the screens that it's about to 
 create. It's about to generate. So we 
 have the welcome on boarding screen like 
 ask it to do the login and the 
 statistics dashboard. So it's going to 
 generate the welcome screen first before 
 the login and then the uh the statistics 
 dashboard screen. So we're going to wait 
 for the AI to complete the generation 
 for the welcome on boarding screen. So 
 we can see that we can move the um the 
 device the frames in the canvas and you 
 can select each of the uh frame. So 
 we're going to wait for the AI to 
 complete generating this screen. 
 Now we should see that it has generated 
 the welcome on boarding screen which 
 looks very good. You can see how 
 beautiful it looks. You can drag it, 
 expand it, move it around and we have 
 different tools here. We have um the 
 view HTML download PNG also you can ask 
 the AI to regenerate and you also have 
 the option to delete the frame. Now we 
 can see that it has generated the 
 welcome the login screen. Now it's 
 remaining the statistics dashboard. So 
 we're going to we're going to wait for 
 this to complete that. So I can also 
 select these two which has also the um 
 two um bar. You can also move these two 
 anywhere around this around the canvas. 
 So let's just wait for the statistics 
 dashboard to complete. 
 And now you can see that the AI has 
 generated the statistics dashboard. Now 
 you can see that it's finalizing. is 
 going to take a screenshot of the canvas 
 and sell it and and set it as the 
 project thumbnail. So once it completes, 
 we are going to test the AI. We're going 
 to ask the AI to regenerate um maybe to 
 generate the the card to make it more 
 bolder the font. So let's just wait for 
 this to finalize. We also have the 
 option to download a PNG. And once I 
 click on this, this is going to download 
 the frame um in P the PNG. 
 Now we can see that it has downloaded 
 the uh the screen downloaded the frame. 
 Uh then you can also ask the AI to 
 regenerate. So I'm going to ask the AI 
 to 
 please um make so I've asked the AI to 
 please make the total network card um 
 bold. So I'm going to click on send and 
 this is going to submit the um prompt 
 and then the AI is going to start 
 generating regenerating the update. So 
 we're going to wait for this to um 
 submit then it should start generating. 
 Now we can see that the frame has 
 started to regenerate. So I'm going to 
 wait for it to um generate. So let's 
 just wait for this. Now we can see that 
 it has make the um font um bold. So this 
 look great. So it's going to also 
 finalize and also take a screenshot. So 
 we can we can change team. So I can 
 click on the we can click here to see 
 all the teams I have. So I can click um 
 Netflix team and this is going to change 
 this from the other team with default 
 team selected to the Netflix team. You 
 have um a lot of teams here. You can 
 select any of the team you want and this 
 is going to match. Some of them might 
 not match but you can pick any of the 
 team you want. So I'll pick I'll go back 
 to Netflix and I can save this if I 
 prefer the this color or this team. I'll 
 click on save and this is going to 
 update the project. Then I can ask the 
 uh AI agent to generate another screen. 
 I can see design 
 the wallet 
 screen. 
 only 
 and I'm going to click on design and 
 then this is going to start generating. 
 You can see how it start to generate and 
 a couple of seconds we're going to see 
 uh the the um frame appear on the on the 
 canvas. So let's wait for this to run. 
 Now we should see that it has displayed 
 the uh the frame still loading and we 
 can see the name. It has given the frame 
 name which is my wallet and all the um 
 all the buttons here are disabled. So 
 it's going to generate. So let's wait 
 for this to complete. Now we can see 
 that the AI has um designed this 
 already. You can see it's finalizing. 
 You can see the wallet. Now the AI agent 
 is going to take a screenshot of the u 
 of the canvas to update the project 
 thumbnail. So this is looking good. Now 
 we can see that the AI agent has done a 
 great a great job. So we can also take a 
 screenshot of the canvas if you want. So 
 we also have u we also have the dark 
 mode and the light mode. You can switch 
 from um dark mode to light mode and um 
 you can just um go back. So the agent 
 also has access to onsplash 2. So it can 
 call on splash to get images. So, we're 
 going to look at some examples that I've 
 already generated. Now, we can see that 
 the project here we created recently is 
 we can see the thumbnail is added. We 
 can see some other um design that I've 
 already done. If I click on this, we can 
 see how good looking the design is. You 
 also have the um let's go down. So, I'm 
 going to scroll down and click on any of 
 these. So, I'll click on this. this um 
 project use the AI agent you use the 
 onsplash to to 
 generate to get the images. We can see 
 um how good looking the um screen is. So 
 head over to your next documentation and 
 let's install nextJS. So just copy the 
 command right here and let's head over 
 to the code editor. So I have code 
 already open and I'm just going to paste 
 the command and then click on enter. So 
 this should uh install next J into uh 
 this project. So I'm just going to wait 
 for this to run. So I'm just click on 
 yes 
 and then let's wait for this. So let's 
 click let me type in dot here. And I'm 
 going to pick the recommended default 
 and let's wait for this to install. 
 So NS has installed completely. So let's 
 head over into the app and let's clear 
 some of the files. So inside I'm going 
 to go into layout first and then I'm 
 going to change in the font. 
 So I'll just remove all of this. 
 I'll change the font to this. So let me 
 just copy this 
 and paste it here. 
 And then I'm going to go copy uh the 
 font here and just change this to class 
 name here. 
 So let me quickly import this 
 and the error should stop. 
 So inside we're going to create the 
 route uh a group route. So I'll call 
 this route 
 and then let's move in the page inside 
 inside the route. 
 And then we're going to create a layout 
 cxx. 
 So inside this layout, I'm just going to 
 copy the layout. Just going to copy this 
 function from inside uh the root layout 
 and paste it inside layout here. So I'm 
 going to paste it here. And there I'm 
 going to change this to app layout. 
 Sorry, app layout. 
 like so. Uh that is it. So we are done 
 with this. We're going to create a 
 folder. We're going to call this 
 project. 
 And there you see page 
 cx 
 r a sce 
 page. 
 So we are done with this part. Let's go 
 ahead and set up and add shanty into the 
 project. So, I would head over to the 
 documentation. 
 Let's go back to the browser and then 
 I'll go to Shanti UI. 
 And there I'm just going to uh go into 
 documentation docs, click on next 
 nextjs, and let's uh add shant in it. 
 So, just copy this 
 mpn. Let's head over to the brow to the 
 code editor and I'm going to open my 
 terminal and then let me paste this here 
 and click on enter. So this is going to 
 uh initialize shanti into our project. 
 So click enter yes. 
 So I'm just okay. Let's just click and 
 then this is going to uh install Shanti 
 and dependency. 
 So let's add some of the shanty 
 components. So, I'm going to clear my 
 terminal and then a shanty UI 
 mp shanty add. 
 And we're going to select some of the 
 components we're going to use in this 
 project. 
 Wow. again. 
 So, let's select the components we're 
 going to use. 
 So, I'm going to select avatar. 
 So I'm going to select button 
 card 
 uh 
 dialog 
 impute impute group. 
 I think that's all. Let me just select 
 sona. 
 Uh I have spinner. 
 I think that's all. So I click on enter. 
 So this is going to add the component 
 into uh into our URL folder. 
 So let's head over to documentation and 
 let's add uh the theme or dark mode I 
 mean. So click on dark mode then click 
 on next. Then we need to install this. 
 So, I'm just going to copy this 
 and let's head over to the code. 
 So, let's make sure this is installing. 
 So, I'm just going to paste this. So, 
 this is going to start installing the 
 next team. And while this is installing, 
 let's go back to the documentation 
 and let's copy uh this. So, I'm just 
 going to copy this. So we're going to 
 create a file called team provider and 
 we're going to add it in the root in the 
 layout. So I'll just go back to the 
 code. 
 So uh let me close this 
 and let's create a team inside the 
 component folder. 
 team provider. 
 TXX. 
 So, I'm going to paste this inside here. 
 And then once that is done, let's head 
 over to the documentation again. 
 And I'm going to copy this whole parts 
 here. 
 So once you copy, so let's head over 
 into the layout. And here I'm just going 
 to remove this and let's paste in the 
 the team provider. Also add the toaster 
 here. We're going to import that from 
 summer from UI toast. So I'm going to 
 import the team from team provider 
 component provider. Then the poster 
 we're going to import that from UI 
 sooner. 
 So save this and also we're going to 
 also uh inside the global CSS we going 
 to uh change the team. So I'll head over 
 to uh let's head over to the browser and 
 let's go to 
 here. We just come over to this website. 
 Then head over to editor team. 
 Then click on this. And then we're going 
 to select uh the CL style. 
 Can click here to copy the code. 
 So I'll just copy this. So copy 
 everything here. 
 And then let's head over to the editor. 
 So I'm going to change everything. So 
 let me 
 remove this and paste it. 
 So let's also remove the uh let's remove 
 this two 
 and make sure everything is saved. 
 So let's run the server to make sure 
 everything is working fine. npm rundev 
 and we can see that it's working fine. 
 We can see the share button here and 
 this is taking up the cloud. So that's 
 it. So let's uh go ahead and uh work on 
 the home screen. So, let's go into the 
 app folder uh inside the route um page 
 and let's remove everything here. So, 
 I'm just going to remove all of this 
 and there is going to remove 
 like this. And so I remove the button 
 and the image. 
 And let's create a a common folder 
 inside the route. 
 And then we're going to create the 
 header 
 txx 
 and also uh the landing. I'll just call 
 it landing uh section 
 or you can call it home or main section. 
 So I just call it anything now. CXs. 
 Yeah. I'm going to say C 
 like this. So let's copy this uh inside 
 the page.txs. 
 I'm just going to pass that inside here 
 and let's import this 
 and then inside the landing section. 
 Okay, let's add a class name here. 
 Give this minimum height of screen. 
 Then uh let's say 
 uh 
 let's close this. Let's give this full 
 like this. Then I'm going to create a 
 div. Yeah. 
 And then we're going to call the header 
 component here. 
 So I'm just going to comment it out. 
 We're going to implement that now. So 
 let's just have class name 
 flex flex column 
 by this. 
 So uh we're going to a div here. 
 Let's give this a class name of a 
 relative 
 overflow uh 
 overflow hidden. 
 And then I'm going to give this a 
 pattern of two uh 28. 
 Then we should have a def let's give 
 this a class name 
 uh maximum width 6L 
 MX uh MS auto flex and flex column 
 and then items center 
 justify enter. 
 Then here we're going to create a div. 
 And let's give this uh class name 
 say space uh space 
 white. 
 And if you have the H1 
 uh let's give this a class name center 
 text center 
 font. 
 Let's give this font bold semi bold 
 and then text 4 XL 
 and then we're going to give this 
 tracking 
 and tight. 
 Let's also uh so on on last screen we 
 should have text 
 5 XL. 
 So here I'm just going to paste this 
 design mobile app. Then uh text primary 
 in minutes 
 that should have the paragraph. 
 Let's give this a class name 
 of MX auto. 
 I'm going to give this maximum width 
 so to make it so it doesn't break 
 maximum width 
 to XL text center 
 or we can wrap this instead of P tag we 
 can wrap this in a div if you want so I 
 leave it like this uh then we can have 
 font medium Um, 
 text program 
 and then 
 text muted like this 
 test for then we're going to have a 
 leading 
 relax. 
 Then on smaller on last, we're going to 
 have text large. 
 And then I'm going to paste this. 
 And then below here, we're going to have 
 a div that wraps the um pump input. So 
 I'm just going to give this a class name 
 uh flex uh wful 
 the maximum width uh 3 XL 
 3 XL 
 and then I'm going to also have flex 
 column 
 item Enter 
 gap it's relative and let's give an 
 index of 50 like this 
 and there we're going to have 
 a div 
 and this is going to wrap the AI prompts 
 impute 
 which we're going to create. 
 So just comment this out for now. 
 Let's give this a class name 
 withful 
 like this. So let's quickly create a 
 prompt impute. So I'm just going to 
 unccomment this out and then I'm going 
 to make this reusable. So I'm going to 
 add in a class name here. 
 I'm going to say a wink two wing primary 
 rounded 
 3x. 
 Then I'm going to uh let's add prompts 
 text. 
 So we're going to create a state here. 
 We're going to call this prompt text. 
 So let's quickly create a state here. 
 So I change this to uh use client 
 constant 
 use state 
 of type string. 
 And here we have the prompt text. 
 Set prompt 
 text here 
 like this. So we're going to say set 
 prompt text. 
 It equals to set prompt text. 
 And you can pass in for now we say it's 
 loading to force 
 and you can so pass in onsubmit 
 for now we're going to just set this to 
 like this. So let's go into the 
 component folder and let's create a 
 prompt 
 impute 
 cx. 
 Let's change this to prompt imputi 
 prompt impute. 
 So I'll say 
 prompt impute. Let's import this inside 
 the uh landing uh section. 
 Let's head over to prompt imput. 
 So let's write the types here. I'm going 
 to change this to use clients. 
 And there we're going to have the 
 interface here. So we have the prompt 
 text set prompt test load in class name 
 and uh on submit I'm going to 
 structure this and pass the prompt type 
 then get the uh prompts text then set 
 prompts text 
 then it's loading we get it's loading 
 then the class name to add custom 
 classes to uh style to the prompt 
 impute. 
 Then we have the unsubmit and I'm going 
 to also add hide hide submit button 
 because we're going to use this inside 
 the canvas. So I'm going to add hide 
 submit button 
 and this is going to be optional 
 boolean 
 of type boole and set the default to 
 false. 
 So uh let's add comma there. So here 
 we're going to give this a class name 
 a class name of BG background 
 and we're going to import 
 group fun UI 
 and there we're going to pass in a 
 custom CSS custom class. So, I'm going 
 to use CN 
 CN here. 
 And let's just import this from uh 
 YouTube. Then I'm going to uh let's give 
 this minimum height uh 172 
 pixel. 
 Uh 
 let's give this uh 
 RPG background too. 
 like this. I think that is all we've 
 added. Rounded 
 rounded 3 XL. 
 We added this in the landing section. 
 So, I think I can remove it here. We 
 don't need it here. 
 And then we can pass in the class name. 
 If there's a class name, we pass in the 
 class name. 
 And then here we're going to have the 
 impute group text area. So impute group 
 uh text area. 
 So import that. 
 It should be self closing tag. Then here 
 we can have a class name 
 our text base service and py 2.5 
 and then we can have a placeholder. I 
 want to design 
 um an app 
 that sorry 
 that 
 then we can pass in the value to the 
 prompt uh text 
 then unchange 
 we can get the event 
 and set uh prompt uh text to events 
 events tag to get the value 
 like this. So below here we going to 
 have um some of the actions where this 
 submit button. So I'm going to call this 
 impute uh group action add on sorry. 
 So we're going to have a line I'm going 
 to say um block and 
 Let's give this a class name 
 flex uh item or let's just let's say 
 item center 
 justify 
 and 
 and we're going to have the submit 
 button. So, we're going to say uh we're 
 going to check if not hide uh submit 
 button. 
 Then we're going to show uh the hand 
 impute group uh button. So, let's import 
 that impute group 
 button. 
 >> [snorts] 
 >> So let's give this uh 
 variance. 
 Okay, let's say yeah, let's say varants 
 default. 
 Then let's give it a class name. Uh um 
 let's leave the class name. Let's give 
 the size small. 
 And let's have disabled. We're going to 
 have uh if there's no prompt 
 text uh sorry dot trim 
 or is no 
 like this. 
 And then we're going to have the 
 unsubmit here 
 on click sorry on click. 
 We're going to call unsubmit. 
 I think unsubmit is uh optional. So 
 that's what we have to do like this. 
 Then here we can say if is loading 
 then we're going to show a spinner here. 
 else. We just going to 
 we're going to return 
 the sign 
 and then an icon corner icon 
 down a left icon. 
 SQ is a class name of uh 
 size four like this. So import spinner 
 from UI uh spinner. 
 And I think that is it. 
 So let's remove this. Yeah. 
 So let's head let's make sure we save 
 this and let's head over to the landing 
 section and the error should stop. 
 So, so below here we're going to have a 
 div. 
 Uh, 
 then we're going to, so this div is 
 going to hold the suggestion. So, I'm 
 going to paste the suggestion list here. 
 So, this is going to be list of 
 suggestion. You can copy that from the 
 GitHub. 
 So, this is going to be the value which 
 is the prompt. And this is going to be 
 the label. So, I'm going to collapse 
 this. And once we scroll down to where 
 we have the div, we're going to go ahead 
 and and get this in suggestion um 
 component. So, if you head over to AI 
 elements 
 and just head over to the AI SDK dev 
 elements, then you can see suggestion. 
 So, these are the suggestion. We're 
 going to uh copy the code and you see 
 how to uh make use of it. So I'll scroll 
 down here. You can you can add this 
 manually 
 or you can see the entire code here. 
 I think this is okay. I'll copy this 
 manually so I can add it into 
 uh okay this is having so let's just add 
 it like this. So, I'll copy this 
 and then let's head over into to code 
 editor and let's just open the terminal. 
 So, I'll open a new terminal and let's 
 add this inside here. 
 So, paste this and let's click on enter. 
 So this should add uh the suggestion 
 inside the uh AI elements uh for us. 
 So this has installed the suggestion 
 component. So we can see that inside 
 here you can see AI element suggestion 
 and you can see it here. So uh let's use 
 inside the landing page uh section. So 
 collapse. So let's uh import suggestion 
 from AI elements. 
 Uh let's collapse this. Let's look 
 through the suggestion list 
 dot map 
 and then let's get suggestion 
 from AI elements. 
 And here we can pass in the key. I'm 
 going to say key is going to be close to 
 s label 
 and then suggestion is going to be u s 
 label. Okay. 
 Now if you have a class name I'll just 
 say text uh small extra small 
 then I'm going to say height 7 
 then px 2.5 
 then pt one 
 and then I'm going to uh have on click 
 here for now I'm just going to 
 uh set it like this we're going to 
 create a function for that let's just 
 pass in the icon here 
 icon and then expand 
 for the text for the label we say x 
 label like this 
 uh then let's create the uh method so 
 I'll come over here and let's create the 
 method so this is going to be handle 
 suggestion click we're going to pass the 
 value then set it to the um prompt um 
 text so just copy this and let's go back 
 here to the suggestion. Sorry, here and 
 then we can just say pass this 
 let's say x dot value 
 like this. Then here we're going to have 
 come down here we're going to set the 
 brow u a background effect. So I'm going 
 to say D if I'll have a class name 
 of absolute 
 absolute. 
 So let's make sure we added relative 
 here. 
 Okay, we added relative here. 
 So we're going to also have minus 
 translate 
 uh x 1 / 2 
 and then we're going to also have left 
 1 / 2. Our width we're going to give 
 this 5,000 
 uh pixel. Then we're going to have 
 height 3,000 
 uh pixel. We're going to also have top 
 80% 
 and then we're going to have minus Z 
 like this. 
 So inside here I'm going to paste the 
 going to paste this. So, we're going to 
 have div translate absolute bottom 
 bottom 100% and 300 pixel left. And then 
 we're going to have height, width, then 
 opacity. Likewise, for the second one, 
 we're going to have 
 absolute 
 margin of 2.5 
 with um box shadow. We copy this from 
 the uh GitHub. 
 So once we are done with this we going 
 to uh 
 going to have a different div here. 
 We're going to list the recent project. 
 For now I'm just going to create a div 
 when we are when we've integrated or 
 created the endpoint for that we're 
 going to imple come back and implement 
 that. So so let's create a div here. 
 Uh 
 and then we're going to say class name 
 waitful and let's give this padding wide 
 then 
 and then we can have a div. 
 We're going to have class name 
 u max auto 
 max 
 or weight 3x. 
 And there we're just going to have um 
 a div here with H1. 
 I'm just going to call this a recent 
 project. 
 And let's give this H1 a class name. And 
 we're going to say font 
 medium 
 then text excel 
 then tracking tight 
 like this. So let's check this out. Uh 
 let's check this out in the browser. 
 So let's wait for this to load 
 and then we can see the effect. You can 
 see that is looking good. So just remain 
 the heading. We're going to go and work 
 on the heading. I think this is cooling 
 like this. 
 So, 
 so let's go and then complete the 
 heading part. 
 So, I'll just comment this here 
 and let's create a component for this. 
 So, okay, we have this file here. So, 
 let's say FCE 
 header 
 and let me import this 
 So inside the header component. So let's 
 make this use client. 
 So change this to use clients. Then uh 
 inside the header I'm going to import 
 team. So let's import team from next 
 team. 
 Then we have dark. If dark t is team is 
 equals to dark. Then we set this is 
 going to be set to three of us. So uh 
 let's have a class name here. 
 And then we're going to say this to be 
 sticky 
 top zero right zero 
 and then let's give this set 30 like 
 this. So just give this left 02. 
 So let's have a header. Yeah, 
 we give this a class name of height 16 
 border B 
 button. Then we're going to give this BG 
 background. 
 Uh then I think that's all. So let's um 
 have a div inside the header element. 
 We have a class name here. So wait for 
 I'm going to give this a maximum width 
 of 6 XL 
 and then MX auto sorry MX auto 
 then we're going to say flex item center 
 and justify between. 
 So here we're going to have the logo 
 component. So we're going to create 
 that. 
 So, let's close this. Let's quickly 
 create the logo component. So, I'll go 
 into my component folder and here I'm 
 just going to create a file. I'll call 
 it logo.tx. 
 And let's say 
 change this to logo. 
 Then we're going to just have the link. 
 So, let's import link from our next 
 link. 
 Let me import that here. Import link 
 from next link. 
 And here we're going to say arrow ref 
 like this. And let's change this to 
 link. 
 So let's give this a class name of for 
 flex one flex and then item center 
 and let's give this cap 
 and then text to Excel 
 and inside here I'm just going to say uh 
 span and in block uh line block extra 
 bold text primary x. Then the same thing 
 for uh uh design. 
 So save this and let's copy this. Let's 
 head over to 
 uh the header component and let's import 
 this. 
 So let's have a div here 
 and let's just give it flex one. 
 So it's going to be uh I'll change this 
 to link 
 um then change this to link. 
 So let's just import link from uh next 
 link then set to 
 to like this. 
 Sorry not to ref. 
 So below this div we're going to have a 
 div 
 class name 
 flex uh flex one item center 
 item center 
 uh justify and 
 gap three. 
 So yeah we're going to have a button. to 
 import button from our URI button 
 and there we're going to set the 
 variance 
 to outline 
 and then size to icon. 
 Then we can say on click 
 then this is going to be set team. 
 Then if it's dark 
 sorry if it's dark set to lights 
 else dark. 
 So let's give the button a class name 
 uh say relative 
 rounded full 
 uh height 
 or with it like this. Then we can uh 
 inside the button we are going to have 
 the icon. So I will import song icon 
 for lucy react 
 and let's give this a class name 
 absolute 
 height five width five 
 and then we are going to say transition. 
 So let's copy this 
 uh let's see CN. 
 So import 
 and then we're going to say comma 
 we going to say if it's dark 
 then we say scale 
 100 else 
 scale zero. 
 Let's duplicate the icon 
 and let's import moon icon. 
 from Lucy React. 
 And there we have the same thing, but 
 here we're going to say if a stack we 
 are going to set this to uh 
 to zero and there to 100. 
 So below this button we have another 
 button which will cost sign in. 
 So save this and let's also add padding 
 Y for here. 
 So save this and let's test it out. Also 
 make sure you add hidden item center 
 justify center and also mid flex here 
 cap it. So this is going to just center 
 uh the the item. 
 So uh 
 so save this and let's head over to the 
 browser 
 and then we should be able to see uh the 
 uh design. This is looking good. 
 So, let's go ahead and work on the sign 
 in authentication for the application. 
 So, we're going to use Kindle for 
 authentication. So, just head over to 
 kindo.com 
 and we can sign up. So, I already signed 
 up to account. Then, let's head over to 
 So, I already signed up. I already lo 
 in. So, once you log in, you'll be 
 brought to this page. 
 uh you can create a new app. So I'll 
 just come over here. I'll click on add 
 application 
 and then this going to load. So I'm just 
 going to select the back end service. 
 I'll just give this a name. So I'll just 
 say X design 
 and then I'm going to click on save. 
 And then this is going to ask me uh a 
 quick start. Select my technology. So 
 I'm going to select SJX. 
 Then I think once I click on this okay I 
 click on yes and save 
 then I can see start kit or existing 
 code base. So I'll click on existence 
 code base and then it should um give me 
 all of the uh EMV. So first of all I 
 need to install we need to install a 
 kind uh package. So just copy this and 
 let's head over to the documentation. 
 I'll open my terminal. I'll cancel all 
 of this. 
 I'll paste this 
 and then click on this to install. 
 Uh let's wait for this to install. So 
 while this is installing, let's head 
 over to Kindle again and let's uh copy 
 the EMV. So just copy all of this and 
 then once you copy this we need to also 
 create uh we need to also create the 
 endpoint. So I'll just copy that. Let's 
 head over to the uh code and let's open 
 this. So I'll close this create uh env 
 file here. 
 And let's paste this inside here. So I'm 
 just going to change this to uh local 
 3000. 
 Uh let's also go back to the 
 documentation again and let's copy this. 
 So we're going to create API kindle 
 routtx. 
 So copy this and also copy this and 
 let's head over to the code and let's go 
 into uh the routes API app folder. 
 Let's create API 
 API class. I'm going to change this to 
 CX here. 
 Uh, I think we made a mistake here. So, 
 I just 
 I'll just change this to route.x. 
 Okay, let me remove this. 
 I'll say uh route.tx. 
 Sorry, 
 tx. 
 And then I'm going to paste it here 
 just like this. So that's it for adding 
 uh kind into our project. So make sure 
 the server is running. So make sure it 
 has installed the package package. 
 [snorts] So this has completely 
 installed. So now we can use um kind in 
 our project. So before we do that, let's 
 head over to the browser. 
 Uh let's um look at how to protect the 
 rout. So uh to add uh sign up and sign 
 in button, we can just use the login 
 link. So we can use that in the uh 
 header component. So let's just quickly 
 copy this before we go ahead and look at 
 how to protect the rout. So I will come 
 into 
 uh app routes common header and scroll 
 down to where we have this button 
 and then I'm going to copy this and just 
 pass it inside here. 
 and let me import log link from uh kind 
 uh components. So just save that. So 
 let's head over to the browser again. 
 And now let's go to view next year 
 documentation. 
 And there we can scroll down to this is 
 the app router. We can scroll down to 
 protected rout. We can see that here. Uh 
 if I scroll up, you can see set up 
 middleware in XJS. So we can see how to 
 add uh create a middleware tx file and 
 then add this to root. I want to show 
 okay. Yeah, we can see how to add um 
 public parts here. So I'll just copy 
 this. 
 Copy this one. 
 Okay. We also have the one that has um 
 is returning page. So let's say let's 
 just copy this one and let's head over 
 to the code. 
 So instead of creating a middleware, 
 we're going to create proxy 
 tx here. 
 So next middleware has changed to 
 popsy.tx. No more you going to longer 
 use middleware tx. So it's going to 
 rename as popsy.tx. 
 So we're going to paste this inside 
 here. And so I'm just going to say 
 public part slash then we can say is 
 return 
 is return 
 to current uh page true just like this. 
 So now we've added the middleware. Now 
 our page is protected. So uh the public 
 part we have here is the uh page.tx. Or 
 if we have uh if we create a single page 
 like uh sorry 
 I think 
 the project page we're going to create 
 this inside I project ID then move this 
 page inside the ID like this. So now 
 this is protected only this is public 
 just like that. So we've added this. So 
 let's head over to the header and then 
 once we log in we need to display um the 
 avatar of the user and the name of the 
 user. So let me make sure all of this is 
 save 
 and so let's quickly try and then log in 
 now. So I'm just going to head over to 
 the browser. So my server is running and 
 you can see the load. So let's quickly 
 sign in. Click on the sign in button to 
 sign in. So, I'm going to click on this 
 sign in now. 
 And this is going to take me to a Kindle 
 website app. You can see my um my 
 business name. If you've not created a 
 business name, uh this is going to ask 
 you to create a business name. So, I 
 already have that. You can see the name 
 of the business. And also, uh make sure 
 you add you come over here and um I 
 think 
 You should have and set call back URL. 
 If you come over to your details, you 
 can see I I have the callback URL. Yeah. 
 So once you do that, just save that. 
 Yeah. So let's head over to the sign in. 
 You can see. So I'm going to click on 
 create an account. And I'm just going to 
 give this a name. So, let's just pick uh 
 um let's just pick this one. 
 Okay, I think uh I want to also support 
 uh Google. So, I'm going to click go 
 back to the to kind of app. So, I'm 
 going to click on authentication 
 and I'm going to click on Google. Then, 
 I'm going to click on save. 
 Uh if I reload this, you should be able 
 to see Google continue with Google. So I 
 click on create an account, then 
 continue with Google. So now I've um 
 I've selected an a Google account and it 
 has redirected me to the local 3000. So 
 the reason we are seeing sign in here is 
 because we're not checking if the user 
 is signed in. So if you head over to uh 
 NexJS app u in kind documentation 
 you can go over to uh kind of data for 
 client 
 and if you scroll down here we can see 
 how to get the check if user is 
 authenticated and how to get the user. 
 So we can copy this and let's head over 
 to uh the code base. Uh let's go into 
 header and there we can uh let's just 
 import this here 
 as a user and let's import use kind 
 browser client. 
 Sorry, let me import this. 
 This is not coming up. So say uh import 
 uh let me check this in the document. So 
 now I've imported it. You can see kind 
 dress and now we have the user uh object 
 here. If you hover it, you can see ID, 
 email, given name, family name, and 
 picture. So, we're going to scroll down 
 to where we have 
 this login button. We So, let me close 
 this. I'll say if user 
 then we can say else 
 move the login um button inside here. 
 Right here we're going to get a drop 
 down component. So say drop down 
 sorry drop 
 down we didn't install the drop down 
 component function UI. 
 So let me quickly import um install 
 that. So I'm going to cancel the server 
 mpx shanty C and add a drop 
 down 
 drop-own menu. So MPH add dropown menu. 
 So click enter. So this is going to uh 
 add the dropown menu for us. So let's 
 see. 
 So it's loading. So I'm going to wait 
 for this to uh load. 
 So now this has installed. So let's make 
 sure the server is running. Close this 
 and let's import 
 dropown menu. 
 So let me import this from UI 
 components. 
 Then inside here we're going to have the 
 drop down 
 dropown menu trigger 
 from UI components. 
 Uh let's give this uh class name. 
 Sorry, let's close this first. 
 And there inside the drop down trigger, 
 we're going to have avatar component. So 
 I'm going to just paste that here. And 
 let me import the avatar from component 
 UI. And then let's also import avatar 
 image from uh let's update this. And 
 also the fallback avatar fallback. So we 
 have the avatar component class name H 
 with it shrink and round. Then we have 
 the avatar image. If there's no image, 
 so it fall back to you we got the user 
 given name and then also the family 
 name. Now below here we're going to get 
 a drop-own menu 
 content. 
 So I'll give this a class name. 
 I'll say 56. 
 And then we're going to say align 
 and 
 like this. 
 So yeah, we can see a drop down 
 drop down menu uh label. 
 I'll just say my account. 
 Uh then we can also have the dropown 
 menu 
 separator. 
 And lastly, we have the drop-own menu 
 uh menu item. 
 And then we're going to import log out 
 link from uh from kind uh is it? Yeah, 
 from kinds component. So we're going to 
 import that. And let's give this a class 
 name withful 
 flex item center. 
 So here we're going to have uh the 
 logout 
 icon. 
 Let's give this a class name 
 a size four 
 and then we can say log out your 
 license. So once the user uh logs in we 
 going to see the user uh image or the 
 name. So I think that that is it. We 
 going to also uh also do a check here 
 uh this recent project. So once the user 
 is logged in or log out we not going to 
 show uh we're going to hide the recent 
 project but once it says login is you're 
 going to see a recent project. So, we're 
 going to come back to this once we 
 integrate the endpoint. So, let's test 
 this out. So, make sure the server is 
 running and let's head over to the 
 browser. 
 So, I load local 3000. 
 Let me wait for this. 
 So, now we can see that I'm logged in. 
 Yeah. And you can see my account and the 
 log out. 
 This is not looking good. 
 So, but if I try to log out now, 
 this is going to redirect me to uh kind 
 and you can see that this show is signed 
 in here. So, uh if I click on sign in, 
 this should take me to kind uh to sign 
 in page. Then I can log in again. 
 So now this is it. So I've lo into the 
 account and we can see this. So I fix 
 this. Make sure you import the uh 
 dropown menu from the UI component. So 
 let's head over to 
 so make sure you import this component 
 from uh your component UI dropown menu. 
 So I fixed the issue. So I think we are 
 done with authentication. And so let's 
 head over to set up our database MongoDB 
 and Prisma. 
 So let's set up MongoDB uh database. So 
 uh you can search for MongoDB at class 
 and just click on the uh cloud 
 register. So I already click on this. So 
 I'm going to quickly sign in to the 
 account. So let's create a project. So 
 I'm going to click on new project. I'll 
 give this a name. So I'll call this X 
 design 
 and then let's click on next 
 and let's create project. 
 So uh let's create the cluster. 
 So let's wait for the project to load. 
 So click on create cluster 
 and then I'm going to choose the uh 
 let's wait for this to load. So select 
 the free option here and leave 
 everything the same way it is. Then 
 click on create deployment. 
 So let me quickly do this 
 and then we're going to okay let's wait 
 for the cluster to create. So I will 
 just quickly copy the password and the 
 username. So click on create database 
 user. Then choose connection string. 
 Then uh let's select MongoDB for VS 
 code. And let's copy this like this. 
 Now click on done. So let's head over to 
 uh database and network access. 
 So, I'm going to click on uh 
 let's click on net IP IP address 
 or network access. Yeah, let's click on 
 add IP address. Then click on allow 
 access from anywhere. Then click on 
 confirm. Then this should uh 
 uh it should add that. So let's head 
 over to the code base and let's add 
 this. 
 So going to the EMV and we have database 
 URL. So just paste this here. I'm going 
 to give this X design 
 uh DB like this. 
 So now let's install um Prisma into our 
 project. I'll cancel the server and then 
 let's say MP um install 
 Prisma 
 um 
 dev dependency. 
 So I'm going to be installing uh the 
 version that works with MongoDB which is 
 6 6.190. 
 So make sure you just click on install 
 and this is going to uh install Prisma 
 into our project. So let's wait for this 
 to in Prisma has fully installed. Now 
 let's install Prisma client. We're going 
 to use the same version and also we need 
 to install EMV. I'm going to click on 
 enter. So this is going to install 
 Prisma client and also EMV. 
 Now let's wait for this to install both 
 of them. So it has installed completely. 
 Let me clear the terminal and let's 
 write MPX Prisma in it. So this is going 
 to initialize Prisma and it's going to 
 create the schema folder. 
 So let's wait for this. 
 So we've initialized Prisma and you can 
 see we have the Prisma folder and the 
 schema and also the config. So in the 
 config we're going to import. Okay, we 
 already have the MV config here. So 
 let's go into the schema folder and 
 let's change this to use MongoDB instead 
 of postrisql. 
 Just like this. And then let's define 
 the schema. I mean the model. It's a 
 model. We're going to have the project 
 model. 
 And then the project model is going to 
 have the ID. The ID I'm going to paste 
 that here. And then we can see that 
 we're using ID string ID. And we're 
 mapping ID. We can just ID is what is 
 given from MongoDB. Then we have the DBO 
 object id. So we going to also pass in 
 the user ID from kind. We're going to 
 set that to string. 
 Then we have the name of the project 
 which is going to be of type string. 
 Then we also have the team 
 which is optional and string. So I'm 
 going to say string 
 and then optional. Then we have frames 
 which is um frames frame um list of 
 frame. So we're going to create the 
 model for frame and say 
 frame 
 and then we're going to also use the 
 same ID format. Then here we're going to 
 have the title of the frame which is of 
 type string. 
 Then we have the uh HTML content 
 which is of type string. 
 And then we have the project ID which is 
 going to be of type string. And we're 
 going to write project 
 of type of project and we are writing a 
 relation 
 field. We're going to set the field to 
 project ID. Sorry 
 to project ID. 
 And we're going to reference 
 the ID. 
 Then we have the created art 
 of date time 
 date time we set default to now. 
 Then we have the updated at 
 which is going to be date time 
 at sorry at updated art. We can copy 
 this and also paste it here too. 
 Oh, we also forgot the thumbnail 
 which is of type string 
 and also optional. So we are done with 
 the models. So let's generate the 
 let's click um open the terminal and let 
 me clear this. Let's say MPX 
 Prisma generate 
 and this is going to generate the 
 folder. We can see the generator Prisma 
 in the li. So it's going to create the 
 folder right inside the li folder. So 
 let's wait for this to generate. then we 
 can push the schema to the uh DB. 
 So let's wait for this. So it has 
 generated the uh Prisma, you can see the 
 Prisma folder and also the models here. 
 So let's push this to uh say MPX DB 
 push. 
 So that's complete. So we've 
 successfully created the project 
 collection and frame collection. Now we 
 can we going to create a file here. 
 We're going to call that prisma 
 tx here. 
 And here I think I made a mistake here. 
 And if you go back to the documentation 
 for JS PrismanJS, 
 we can see um to use Prisma in our 
 project, we're going to you're going to 
 have to create a Prisma TS and then 
 we're going to paste this inside there. 
 So just copy this, but we're going to 
 skip the Prisma adapter for Postgress. 
 So just copy that and head over to the 
 code and we're going to paste that 
 inside the Prisma. Yes, I'll close this 
 and I'll paste it. So, I've made changes 
 to my so I've removed the uh PG adapter 
 and just like this. Now, we can use 
 Prisma directly from this uh leave 
 Prisma.ts inside the route sorry inside 
 the routts. So, that's it for the setup. 
 So, let's go ahead and work on the 
 creating project. So let's create the 
 route for creating a project. So inside 
 the API folder we're going to create the 
 folder called project. 
 Then inside the project we're going to 
 create route.tx. 
 And then inside we're going to create 
 the endpoint we're going to use to 
 create project. So inside the RA folder 
 and the landing page when the user type 
 in a prompt inside the prompt impute and 
 submit we going to send that to the pro 
 project route endpoint. So this is going 
 to create the project for the user. So 
 let's go into the route and let's 
 implement that. So let's say export 
 constant sorry export async function and 
 this is going to be a post request 
 like this. Then we going to use try 
 catch here. So let me remove this. Then 
 below inside here we are going to sorry. 
 So let me remove all of this. 
 So we're going to first of all get the 
 prompt from the user. There is a user 
 pro to request 
 JSON 
 and then we need to check if a user is 
 authenticated. So we're going to use 
 that from let me import let me get 
 prompt from the request um body. Then 
 we're going to say constant section 
 is equals to await 
 get kind of server action server session 
 and then we're going to get the user. a 
 user is equals to await session 
 dot get user 
 just like so we're going to check if not 
 user then we can throw an error I'll say 
 true new error 
 I'll say unauthorized 
 unauthorized then we can say if um not 
 if there's no prompt then we can also uh 
 throw 
 new error or missing um prompt sorry 
 just like this now we can get the user 
 ID it's a user 
 ID is equals to user dot id just like 
 this. Now we need to we need to create a 
 project say constant project 
 is equals to await prisma. So import 
 prisma from lip uh prisma. 
 Sorry this should be prisma small 
 letter. So let me quickly import that 
 here. 
 Prisma 
 from the 
 just like this. And then we're going to 
 say project 
 create. 
 And then we're going to pass in the user 
 ID. 
 And then we need to pass in the name of 
 the uh of the project. So what we're 
 going to do, we're going to use we're 
 going to have to generate the project 
 name. So I say project name 
 is equals to we're going to create a 
 method. We're going to call that 
 generate 
 uh sorry generate project name. 
 and we're going to pass in the prompt 
 here. So let's comment this out and 
 we're going to go ahead and create this. 
 So this is going to be an action. We're 
 going to create inside the we're going 
 to create an action folder here and do 
 that. So let's just complete this flow 
 and then we're going to go ahead and 
 create the the method. So um so we're 
 going to return the project. So let's 
 return uh return the project. Let's 
 import next response here from next 
 server. Then also we're going to let's 
 just consider the log 
 the error as error occurred 
 and then I'm going to pass in the error. 
 Yeah, then we can just return next 
 response sorry 
 uh next response.json 
 JSON 
 error 
 failed to create project 
 and then 
 and there we're going to return we're 
 going to pass in the status code which 
 is status 500 
 like this. So let's go and set up the 
 generate project name. So let's create 
 an action here. So I'm going to collapse 
 all of this. So inside the inside the uh 
 app folder, let's create the folder. We 
 say action 
 and inside here I'm going to just say 
 action.tx. 
 And [snorts] here we're going to use set 
 to use server. 
 So we're going to install a package. 
 We're going to install the AI SDK from 
 vis. And this is going to help us to uh 
 to use different AI model like Google or 
 open AI. So let's install that. And we 
 are going to also install 
 [clears throat] 
 um open router. So let's uh install. So 
 I'm going to clear my terminal. 
 It's a mpm install AI. 
 And then we're going to also install the 
 AI SDK for um open world. So let's just 
 paste this here. And then let's install 
 both of them. So let's wait for this to 
 install. So this has installed 
 completely. Now we need to go and create 
 an API key for open world type. So open 
 router allows us to use various 
 AI models like Google and stuff together 
 with the AI SDK. So let's head over to a 
 browser and let's go to open router. So 
 just search for open router here 
 and then you can create your API key. So 
 you can see the unify interface for LLM. 
 So I'm going to 
 let's wait for this. So I'm already 
 logged in. So I'm just going to go to 
 key. So just sign up. And once you sign 
 up, you should be able to click this and 
 go to uh the key. So you can click here 
 to create an API key. So I'll just give 
 this a name as design. 
 And I'll leave everything like this and 
 click on create. And I'm going to copy 
 this API key. And then I'll go over to 
 my uh browse to my code editor. And um 
 I'll go into the EMV. 
 I'm going to paste it here. So I'll call 
 this open router 
 API key. 
 I'll paste the API key here. So now we 
 need to create inside the li I'll create 
 open router configure 
 tx 
 and then we're so let's import open 
 router and use create open router open 
 router from ak provider. So say export 
 constant 
 open router 
 is equals to create 
 open router and let's pass in the API 
 key sorry API key 
 like this it's a process sorry process 
 envir 
 So now we have the open router set up. 
 So if we go over to the code to the 
 browser, we are going to look for a 
 model we going to use. So I'll cancel 
 all of this and click here to go to 
 models and you can find different 
 modules from open router. 
 So for AI SDK you can search for AI 
 SDK 
 by V 
 and you can see we had to install AI 
 from AI SDK and also we also have AI 
 gateway from V too similar to open 
 router we going to also use this too. So 
 you can get your API key to here, but 
 this require you to pay to use it. So 
 I'm going to just stick with um we're 
 going to use open router for now. So I'm 
 going to use 
 Google Gemini. 
 So we have Gemini 2.5 flash. Uh we have 
 the 2.5 light. Yeah. So it depends on if 
 I use uh 
 so open has read limiting. So it depends 
 if you use any API any of this model and 
 you don't have any queries it might 
 limit the amount of generation you can 
 use uh you can generate so let's just 
 head back to the um code 
 and now before set up the open router so 
 let's go into action.tx X. So I'll just 
 create the method here. So generate 
 project name prompts and let's use try 
 catch here. 
 And then inside here we're going to say 
 constant 
 is equals to our weight. And then we can 
 use generate text from AI. 
 So let me import that here. 
 Import 
 generate text 
 from AI 
 like this. So now we can use this to 
 generate the title. So we need to pass 
 in the model here and this we can get 
 that from the open router which we 
 define the lip. Sorry for let's import 
 this from 
 the lip open router. Then we can say 
 chart 
 and there we can we can provide the 
 model. So, I'm guessing Google/Gemini 
 at 2.5 
 flash 
 just like this. I think use lights for 
 this. 
 And then we need to also pass the system 
 prompt. 
 And we can also pass in the prompt 
 just like this 
 and here we can get the text. 
 Yeah. So let's pass in the system 
 prompts here. So I've reset the system 
 very short 
 five just like this and then we can see 
 console dialog 
 error and then let's also return the 
 text 
 it's a text 
 dot stream 
 uh sorry 
 if there's no response. 
 We just return untitled 
 projects. 
 And here we can also do the same thing 
 return 
 sorry return on title project just like 
 this. So um we are done with this. So 
 let's head over to the API project route 
 and now we can import this. 
 So let's import generate uh name 
 and we can pass this here 
 project name just like this. So we've 
 able to complete uh the complete the 
 generate project name function. Now we 
 also have the Prisma project was create. 
 So we're going to return the response. 
 So there's one thing left. Once the user 
 once the project is created, we need to 
 generate the uh the design for the user. 
 So what we going to do? We are going to 
 move this to uh a background service. So 
 we're going to be using inest for that. 
 So once the user provide type in a 
 prompt and send it to the back end the 
 back end creates the project. Now 
 instead of blocking the user and 
 creating a project 
 generating a project with um AI we are 
 going to move those things we're going 
 to move the generation to a background 
 service which inest also provide us. 
 We're going to trigger that. So I'm 
 going to say uh we're going to u move 
 we're going to trigger sorry we're going 
 to trigger the inest function 
 which is a background service that 
 allows us to uh run to run background 
 service yeah for our project. So let's 
 just go ahead and connect this to the 
 client side to see if the creating of 
 the project is going to work. So I'm 
 done with this. So let's just go to the 
 uh route 
 uh common sorry the common folder 
 learning past your section that section 
 and here we're going to uh we're going 
 to have an unsubmit here. 
 So to do this, we're going to have to 
 install tack react query and as so I'm 
 going to just collapse all of this and 
 let's open terminal and let's install 
 mpm install as 
 also tag create query. So we're going to 
 install npm install as t. So click on 
 enter. So this is going to install. So 
 let's wait for both of them to install. 
 So it has completely installed. Let's go 
 ahead and um let's create inside the 
 let's create a context uh folder here. 
 We going to create the react um um the 
 react query provider. So let's just 
 create a folder. I'll say context 
 and inside here we're going to say query 
 provider. 
 So inside here I'm just going to paste 
 this. So we're going to import query 
 client and query client provider from 
 task query and make sure to set this to 
 use client and we have the function here 
 query provider and like this and we're 
 going to just uh pass the query client 
 like this. So now let's use this inside 
 the um global css. So I'm sorry inside 
 the layout txs. So, we're going to wrap 
 this here. 
 So, move this inside. 
 And then let's import this from context 
 folder. And now we've done with this. 
 So, let's um go into let's create a 
 different folder. We're going to call 
 that futures. 
 And then inside here, we're going to 
 create a file. 
 I'll call this use um project 
 here. 
 So here we're going to say export 
 constants 
 constant use create 
 project 
 and then we're going to return 
 uh we're going to return mutation. So 
 say use mutation from tensor react query 
 and then we need to create the mutation 
 function. So here we're going to say 
 async and there we're going to pass in 
 the prompt which is um 
 which is of type string 
 and I'm going to return we're going to 
 say await we're going to use as 
 so let's import as 
 sorry uh 
 So let me import as here 
 from as just like this and then we're 
 going to say post 
 / API/ project. 
 Let's pass the um prompt. 
 Then we can say then 
 response 
 response to data like this 
 just like this. So u we are going to 
 have the 
 unsuccess here. We say unsuccess 
 on success data 
 like this. 
 I think we made a mistake here. 
 Sorry, we need to move this inside here. 
 So inside here we're going to have sorry 
 like this. Then we're going to say 
 router. Let's import router 
 equals to use router from next 
 navigation. 
 And then we're going to say router.push 
 / project 
 slash project ID. So say data 
 dot 
 data do ID just like this. 
 And now we can have the an error. 
 We can consider the log 
 um project 
 field 
 and let's get the error. 
 Let's console log that and then let's 
 say toast. So import 
 error 
 as a field 
 to create project 
 just like this. So let's make use of 
 this inside the uh route inside the 
 landing page landing section 
 and there we can import that. Here you 
 can say constants 
 is equals to use create project. So 
 let's import use create project from the 
 features folder and then we can see 
 mutate. 
 We can have a spending like this. And 
 let's create the handle submit. 
 So now we can just paste it here. We say 
 if um if not um prompt text just return 
 this. We can use toast here 
 or let's leave it like this. Then we say 
 mates and we pass in the prompt text 
 here. And let's save this. Now we can 
 check this out if this is going to Okay. 
 Let's um pass the handle submit. Yeah. 
 And let's say is pending like this. 
 So this is okay. So let's make sure the 
 server is running. npm rundev. 
 So let's make sure our server is 
 running. So now my server is running and 
 let's test this out. So I'm just going 
 to click on any of this this suggestion. 
 Then I'm going to click on design and 
 let's hope this works. So it's loading 
 and we can see once it creates the 
 project it's going to redirect us to the 
 project by ID page 
 to a single project page. 
 So let's wait for this. 
 So now I think it's done and it's 
 redirecting me and we can see that it 
 has created a project. We can see the 
 project ID here and this is the project 
 by ID uh page. If we check um 
 MongoDB, we can see uh let's check this 
 out our database and let's see if the AI 
 generated the project name. 
 So let's click on browser collection. 
 And now let's see let's click on project 
 and we can see that we have the ID of 
 the user the name of the project and 
 then the ID of the project. So this is 
 working fine but we can't find thumbnail 
 here because didn't pass any thumbnail. 
 So this is working fine. 
 Um 
 so let's head back and let's start the 
 implement. Let's go back. So, we're 
 going to create the endpoint to fetch 
 all the project which we've created. So, 
 let's head over to the code base and 
 work on that. So, I'm going to close 
 this and let's let's go to 
 the API route again. 
 And at the top here, we're going to 
 create a get request. So, I'll copy this 
 and just paste it here. I'll change this 
 to get 
 So let's have a try. Let's write try and 
 catch here 
 and then we're going to copy the same 
 thing we have here. 
 Copy this and paste it here. Now we can 
 fetch the project. is a project is 
 equals to await prisma 
 dot project do find my name 
 sorry where 
 user ID is user do ID 
 then we're going to take uh minimum 
 we're going to take uh the limit is 
 going to be 10 then we're going to oh no 
 we are not including the frame so we're 
 going to order by 
 created by 
 sending order by this. So let's return 
 this return next response 
 JSON 
 success 
 true. 
 We're going to pass in data projects 
 like this. 
 So I'll just scroll down and copy this 
 same thing here 
 and return this fail to fetch 
 um project 
 like this. So let's go back to the use 
 project.tx tx sorry here 
 and we're going to create the method 
 we're going to use to fetch the uh the 
 project. So we're going to say export 
 constant 
 use get project 
 is equals we're going to pass in user ID 
 of type string 
 and then we're going to return 
 use query from re query Okay, 
 we're going to pass in the query key 
 which is going to be project 
 and then we're going to say query 
 function 
 async. 
 We're going to say a 
 use 
 get. So, we're going to return. We're 
 going to get a response here 
 dot get slash API slash project 
 and let's return 
 response 
 data 
 data like this. 
 So now we have uh sorry enabled 
 we going to pass in if there's no user 
 ID. 
 So it's not going to fetch. 
 So let's use this inside the um landing 
 page section. 
 So here I'm going to So let's first of 
 all let's get the user. 
 It says equals to 
 use kind 
 browser kind browser 
 client 
 and let's get the user. 
 You can say constant 
 user ID is equals to user do ID 
 like this. So we're going to pass this 
 inside this. So let's import get um 
 project 
 and pass in the user ID. So now let's 
 use this. Sorry. 
 So let's scroll down to where we have 
 the recent project. Yeah, we are going 
 to check if the user is not logged in. 
 We going to hide the recent project or 
 if the user is logged in, we're going to 
 show the recent project. So at the top, 
 so let's just do it inside here. 
 I'll say if user ID 
 then we're going to move this div inside 
 here. 
 So below here we're going to say if it's 
 loading 
 then let's have a div 
 with spinner component from components 
 UI 
 and there we're going to just have sorry 
 a div 
 like this. So let's give this a class 
 name and a flex item center 
 justify justify center 
 and let's just keep adding top and 
 bottom two. Uh we can give this a class 
 name 
 say size 10 just like this. Yeah, we can 
 give this a class name. You're going to 
 say grid 
 grid and column 
 columns one. 
 Then you're going to have grid 
 columns two. 
 And on medium screen we're going to have 
 grid 
 uh column 
 three like this. Give this a gap of 
 three and padding top three 
 like this. So we're going to map through 
 the um project. I say project 
 do map 
 project. 
 So we need to define the type. So what 
 I'm going to do I'm going to come over 
 to let's create a folder. 
 call it types. So, let me change this 
 like this and let's create project 
 here. 
 So, I'm going to paste it here. So, 
 we're having project ID name thumbnail 
 frame created as similar to uh the we 
 have the frame type too. So, let's copy 
 this and head back to the landing the 
 landing section and let's just pass it 
 here. Let's import sorry, let's import 
 the project type. 
 So, make sure you import the project 
 type 
 and then we can scroll down 
 and let's um let's return project 
 components which we're going to create. 
 I'm going to call it project card 
 and we set a key 
 to um project 
 id. Then we pass in the project. 
 So below here we are going to create 
 that here. to say concerns your project 
 card 
 is equals to 
 and let's return this. 
 So we're going to set this to memo. 
 So let's import this 
 and then we're going to um 
 let's get the project 
 And we set a type here to project type. 
 So I'm going to say project 
 type 
 and let's return 
 a div here like this. 
 So let's create routes router from use 
 router navigation. 
 So let's import this. 
 So let's create a method a constant 
 route on route 
 this equals to let's return 
 router post 
 / project 
 and then we can pass in the project id 
 dot id. So to stop this error I'm just 
 going to say project card display 
 project card and then we can also have 
 let me move this down here. We can also 
 say constant 
 created at 
 dates 
 is equals to new dates. 
 We're going to pass in the project 
 dot created at and then we can get the 
 time sorry time ago 
 which is going to be equals to format 
 distance. 
 So now we're going to import that from 
 this function. So we've not installed 
 this function. 
 Let me check if we've installed date 
 function. 
 So let's quickly install that mpm 
 install date uh fns. 
 So let's wait for this to install. 
 So the date fns has installed. So let's 
 um let's complete it. So I'm going to 
 pass in the created date. So created um 
 at date and then we add um at suffix 
 true. Then we're going to use this. So 
 now we also need to get the thumbnail. 
 So con thumbnail 
 is equals to project 
 thumbnail. 
 I say that to no if there's no 
 thumbnail. 
 So yeah, 
 let's add a row button 
 class name 
 withful 
 flex flex column 
 border 
 rounded excel 
 cursor pointer. 
 Then we're having over shadow. 
 Let's set this to MD and overflow he. 
 So yeah, we're going to add on click um 
 on route like this. 
 So let's create a div 
 name 
 height 40 
 bg 
 sorry 
 we're going to give this a background 
 color 
 then relative 
 overflow uh 
 hidden 
 flex item center 
 and then justify center. 
 Save this and there we can have uh image 
 src 
 thumbnail. 
 Then we have class name 
 with full height full 
 object. 
 We say object left 
 and then 
 we can give this a scale 
 1 Z like this. 
 So we can 
 we check if the thumbnail exists. If 
 there's a thumbnail, 
 we're going to return the image. Else, 
 we can create a div. 
 And in this div we're going to have a 
 class name 
 of width 16 
 height 16 
 rounded full 
 B primary 
 opacity of 2 0.2 
 And then we say flex item center 
 justify center and then text primary 
 and then we can we going to import 
 folder 
 open 
 icon 
 just like this. 
 So below here we're going to have a div 
 class name adding for flex 
 first column 
 and then we have the title there's the 
 name of the project then we have the 
 class name 
 flex and front semi text small translate 
 full and um line clamp on then we can 
 pass in project name like this. So we 
 have the paragraph and then we can give 
 this a class name of text extra small 
 text muted forground 
 and here we can pass in time echo 
 like this. So we are done with this and 
 I we can also add so below here we can 
 say if error let's show um text red 500 
 fail to load project so let's make sure 
 our server is running so mp 
 and let's wait for the server. So notice 
 I don't see any recent project. So, what 
 I'm going to do is uh inspect this and 
 let me reload. 
 Let me reload this. 
 So, let's check this. Let's see. 
 Okay, I think I made a mistake. 
 So let me head back to the code and then 
 so I found the issue issue is because of 
 if I scroll down to the landing page 
 section. If I scroll down we can see 
 that we didn't return the project card. 
 So I'm just going to copy this. I'm 
 going to just remove this and change 
 this to like this 
 like this. So this is going to work. So 
 let's head over to the browser 
 and let's reload this. Now we can see 
 now we can see the card here. So once 
 you click on it, this is going to take 
 you uh to the uh single project page. 
 So let's work on the um project single 
 project endpoint. So I'll go into the 
 app API. Then inside the project we can 
 create a folder called this id and then 
 we can create a route tx 
 inside the folder can create a route tx 
 here 
 and then we can say export constant so 
 export function then we can return this. 
 So I'm just going to say like this. So 
 let's import a next request. 
 Then we're going to get the params which 
 is this ID. 
 We're going to ID string. Then we can 
 use try catch here 
 and then let's return this. So I'm just 
 going to also go into this and copy this 
 same uh find and kind server session. 
 I'm going to copy that 
 paste it here. Sorry, inside the try 
 catch here. And let's import this. 
 So now we checking if the user is 
 authorized to access this API. Now we 
 can fetch it. We say constant project 
 is equals to await Prisma. Let's import 
 Prisma from 
 Let me import it from the top here 
 like this and then we say project 
 find. 
 So we can say find first 
 where user id 
 user id 
 and then 
 sorry and then we can get the project. 
 So let's get constant 
 is equals to our weight par 
 and let's get a project ID 
 let's say ID ID 
 and then we're going to also include 
 frames 
 Sorry frame like this 
 like this. So we're going to check if 
 there's no uh 
 widget 
 we can return next request 
 sorry next response 
 or JSON 
 and then we say error 
 object not found 
 and Let's just say status 
 404 by this. Then we can return 
 next response. So next response 
 JSON 
 and let's return the project here. 
 So let's cons 
 error 
 and we're going to do the same thing 
 and say uh fail to fetch project. 
 So let me remove this 
 and change this to 500. 
 So we've completed the So let's go ahead 
 and create a file inside the futures. 
 Let's say use um project 
 id.tx 
 and then we're going to uh going to get 
 the we're going to use query from 
 query. Now let me import as here 
 from asus 
 just like this. So we pass in the query 
 key project ID and then we pass in a 
 project ID to API. Then we get a 
 response. So we can use this inside the 
 U project. So let's go up to inside this 
 project inside the route folder and then 
 inside the project folder and then we 
 should create the ID and inside here we 
 have page.tx. 
 So here we're going to use the endpoint. 
 So let's convert this to use client 
 and then we can use constant use param 
 to get the uh id of the object. Then say 
 constant id is equals to params do id 
 param ID. 
 Let's change this to params 
 id as string 
 and then we can use the endpoints. Now 
 we can say constants 
 is equals to sorry 
 use get by ID. So let's import this and 
 then we're going to pass in the project 
 ID which is ID and then we can say data 
 project 
 and let's say is pending 
 like this. So now we can get the frames 
 a constant frames 
 is equals to project 
 dot frames. 
 We set that to empty. Then we can get 
 the team 
 is equals to project 
 team 
 empty string. 
 So now we need to uh check if there's no 
 project. Say if it's not pending 
 and 
 we don't have any the project is not 
 found. We can just return 
 a div 
 and we say uh project not found 
 just like this. So let's return this. 
 Now we can have a class name 
 relative 
 height screen 
 with full. 
 And then we have the flex and flex 
 column. 
 So here we're going to have the header 
 component for um the 
 the single project page. So we're going 
 to create that here. But we're going to 
 pass in let's pass in the project name 
 which is going to be equals to project 
 dot name like this. So let's quickly 
 create that. So I'm going to create uh 
 inside yeah let's create the common 
 common folder 
 and let's call this header 
 let's create a file header cx 
 e 
 change this to header and let's just 
 import this 
 and then we're going to pass in the 
 let's pass in the props 
 project sorry project name 
 str 
 and the error should stop. 
 So here we are going to dstructure the 
 props 
 and get the project name. So let's also 
 uh import router and also the use team. 
 So I'm going to import use team and also 
 import router for next navigation 
 like this. So let me move this to the 
 top and then let's have 
 last name 
 let's sticky similar to what we did in 
 the previous header top zero and then 
 let's have 
 the header here we say header 
 we give this a class name 
 Bottom border 
 opacity 0.4 
 and then we give this PG card 
 50 and the background 
 um blow 
 small like this. 
 Then we can have a div. 
 Here is a class name 
 flex 
 item center 
 justify between 
 give this a padding x4 
 and then py2 like this. So here we're 
 going to have a div 
 and let's import logo components 
 the logo 
 and let's have the class name flex 
 um item center 
 four 
 and then we have um 
 button 
 we set it to icon Slice 
 icon small 
 variance 
 variance uh ghost 
 last nameful 
 and give PJ muted. 
 So we have on click 
 and we're going to say router.p 
 back to the home screen and let's add 
 icon the arrow 
 left 
 icon. 
 Let's use a class name size four. 
 Let's import the arrow left icon. 
 So now uh after the porting we have a 
 span tag. 
 We can give this a class name or let's 
 give this a div. Let's change it to div. 
 Let's give this 
 inline block. 
 So let's give his maximum width 200 
 and let's say truncate 
 and let's give font 
 medium 
 like this 
 and then 
 uh like this. Let's also so let's pass 
 in the project name here 
 we said we'll name this untitled 
 project if there's no project name. So 
 let's just close this. 
 So let's change this I'll change this to 
 paragraph like this. 
 So here we can have a this 
 say class name 
 flex item center 
 gap tree and let's go to the header 
 and let's copy 
 let's copy this 
 and paste it here. So let's import uh 
 some 
 icon from Lucy React and also the moon 
 icon. Let's also import the CN. 
 And that is it. 
 So, let's check this out. So, make sure 
 the server is running. 
 Let's go over to the browser. Let's 
 reload this. Now, we should be able to 
 see the icon and the name of the uh the 
 name of the project. 
 So we can see and you can click here to 
 go back. 
 So let's head back to the code 
 and then below here we are going to 
 so let's create a div here and this if 
 is going to hold the canvas components. 
 So let me comment this out for now. 
 So let's give this a class name 
 of flex flex uh one sorry flex with full 
 and let's overflow hidden 
 then we can give this a div 
 um sorry class name 
 where let's see 
 and let's move this canvas inside here. 
 So, let's create this canvas. I'm just 
 going to go into my component folder. 
 And let's create a folder. Let's call 
 this canvas. 
 Let's index. Let's create index CSS. 
 Say R A S E 
 canvas. And then let's go back into the 
 page. CXS. 
 Now let's unc comment this and let's 
 import the canvas component like this. 
 So now we're going to also create the 
 canvas provider that handles the we're 
 going to pass in the frame and the team. 
 So it's accessible everywhere inside the 
 canvas component. 
 So we're going to wrap this. So we're 
 going to wrap this with canvas. 
 So paste it inside. And then inside 
 we're going to pass in the initial 
 frames 
 which is going to be frames. 
 Then we have the initial 
 sim. 
 We're going to pass in the team. 
 Then we say if it has uh any uh initials 
 we're going to check uh we can say 
 constance has 
 initial data 
 is equals f. 
 So let's just copy this 
 and let's pass it here 
 as initial. 
 Let's pass it here. We're going to also 
 pass in a project 
 ID 
 project do ID. So let's create a canvas 
 component inside the let me collapse all 
 of this. So go into the context and 
 let's say canvas 
 canvas provider 
 cx or canvas context 
 cxs any new one. So let's define the 
 interface. 
 So say canvas 
 context 
 type and the first thing we're going to 
 define is the team. So we're going to 
 define a list of team. So I'm going to 
 create a file inside the link folder. 
 I'm going to call this teams. 
 CX. So I'm going to paste. You can copy 
 that from the GitHub. You can copy from 
 the GitHub repository. So I'm going to 
 paste all of this. And you can see that 
 we have a lot of the teams here. So I'll 
 scroll to the top and we can see 
 the type here type. So we have the font 
 we are going to use and we have the base 
 variable which we pass in the font 
 variable 
 and we have different team with 
 different format in the same format. We 
 have a background for like this we have 
 Netflix team as team and so on. And then 
 we have the team list. Yeah. If I scroll 
 to the bottom of the screen of the page, 
 you can see we have the sim list and 
 then we also have the P sim column here. 
 So just copy this and paste it here. And 
 let's go back to the canvas context and 
 then we can import a team type here 
 from teams. 
 Now we can do set team 
 which is going to be we're going to get 
 the id of the team 
 and then just return void. 
 So we also have the teams which is going 
 to be of type team list 
 by this. 
 Then we have the uh frame 
 which is of type frames 
 frame type 
 then set frame 
 say frames 
 frame type we're going to import frame 
 type from type project you can see that 
 here. So inside the frame I'm going to 
 also add is loading here. We're going to 
 use this to notify when the generation 
 occurring. We're going to we're going to 
 create a dummy frame in the canvas. So 
 I'm going to set this to boolean for now 
 like this. So inside the canvas there 
 let's also return this void 
 set frame. We can just say it to a list 
 of array like this and say update 
 update frame 
 void like this. 
 Let's say ID string 
 data 
 partial 
 frame type 
 like this. There we have add frame. 
 Let's just return for and let's pass in 
 frame 
 frame and type. 
 Then we also have a select selected 
 frame 
 ID. We set that to string or no. 
 Then we have selected 
 frame 
 frame type. 
 Oh no. 
 Then we have set selected 
 frame 
 ID 
 passing the ID of the frame string 
 or no. 
 And let's return void. 
 So these are all the uh advantage type 
 we have. So we also have the last one 
 and this is going to be the loading 
 status. 
 So while this is going to be a type of 
 loading sorry loading 
 status type. 
 So this is going to uh we're going to 
 have different loading status we're 
 going to use we're going to uh display 
 when the generation occurs. So we going 
 to define a type here of loading status 
 type. So just copy that here. Paste it 
 here. And we're going to have the first 
 one. So it's going to be equals to we're 
 going to have ID. 
 So then 
 we're going to have running. 
 Then the last one is going to be 
 analyzing, generating, and completed. So 
 we're going to use uh inest real time to 
 display all of this loading at different 
 stages when the generation occur. So 
 we're going to look at inest after this 
 section. So let's just complete the 
 canvas context type. So uh here we can 
 now define create the context here. Say 
 canvas 
 context 
 is equals to create 
 context. 
 Now we can set in the type here. Create 
 sorry canvas context type. Let's pass it 
 here. 
 Let's import create context 
 from react 
 and then we can set this to undefined 
 undefined 
 and then we can just set here. So below 
 here, let's create the context provider. 
 A canvas provider say a constant a 
 canvas 
 provider 
 and then let's return 
 an object passing children. 
 So let's define the type first 
 children 
 react 
 node. So import react node from react. 
 Then we have the initial frame 
 which we are passing. It's a frame type. 
 We also pass in the initial sorry 
 initial 
 string 
 initial team 
 string. 
 So this should be initial team ID 
 because we're going to be passing the ID 
 instead of the uh team. So I'll just go 
 back to app and let's change it to ID. 
 So inside um page 
 we can say initial team ID 
 like this 
 and also this we can just say ID the 
 team. 
 Let's change this to ID like this. 
 So here we're going to also have the as 
 initial data 
 uh which is going to be of type boolean 
 then also the project 
 ID string or 
 so we can get all of them here initial 
 frame initial team ID uh has uh initial 
 data and project 
 ID. 
 So yeah, let's say constant 
 team id set team 
 id is equals to use state 
 of type string 
 and then we're going to pass in the 
 initial 
 sim ID or we can import the same list 
 and then let's get index zero 
 dot id 
 or empty string. I don't guess we should 
 just remove this like this is okay. Then 
 we have uh the states for frames. 
 Now set frames 
 is equals to use state. 
 It's going to be of type frame type 
 an empty array. 
 Then we have let's duplicate this. 
 Let's change this to loading status. 
 And then we're going to also have set 
 loading status. 
 And this is going to be of type string. 
 I'm sorry. It's going to be of type 
 loading my status type. 
 And I'm going to uh I'm going to set the 
 default to one like this. 
 So we can copy this now and also paste 
 it here. 
 So here I'm going to change this to 
 selected frame ID. 
 And this should be set selected 
 frame ID 
 like this. So yeah, let change this to 
 string. 
 String or no? 
 Let's change this. Let's replace this to 
 no. 
 Let me move this to the top 
 like this. 
 So now to get the team we write constant 
 team 
 is equals to team list find 
 team 
 sorry 
 where team dot team do ID is equals to 
 team 
 ID 
 while constant selected frame 
 is equals to selected frame ID. If the 
 selected frame ID 
 and frame 
 frame length 
 is not equals to zero 
 then 
 we can say our frames 
 Find 
 frame. 
 It's a frame 
 dot ID is equals to selected frame ID. 
 Else no 
 like this. So below here we're going to 
 um use a use effect. So let's import us. 
 Then we say as initial data 
 then we're going to set our loading to 
 idle. 
 So if we have initial set it to 
 then we can also do for copy this and 
 also um paste it here 
 for initial 
 initial team ID. 
 So that's same ID. 
 So let's just return 
 canvas 
 contest provider. 
 This will stop the error follow. 
 Let's pass in a team. 
 Uh we're going to pass in the children 
 here 
 by this. 
 So let's also have the add 
 search exists. 
 Okay, I made a mistake here 
 like this. And let's just change this to 
 N. 
 So let's also have the constants add 
 frame 
 is equals to use callback. 
 So let's import use callback 
 from react 
 and there we're going to say frame. So 
 let's pass in a frame 
 of type frame type. 
 There is a set frame 
 previous 
 state 
 the structure the previous state and 
 pass in the frame 
 like this. 
 So we also have the update frame. So let 
 me just copy this paste it here. 
 I'll change this to 
 update frame. Then we're going to pass 
 in the ID of the frame. This is of type 
 string. 
 And then we have uh the previous remove 
 this. And then I'm going to say previous 
 map 
 frame. 
 So we're going to check uh if frame do 
 ID 
 is equals to ID. 
 So let me copy this out. 
 a frame is equals to ID is. So we're 
 going to save. We're going to check 
 the structure frame 
 and we're going to pass in structural 
 data. 
 Let's pass in data here. 
 of frame type partial. 
 So let's copy this from here 
 partial 
 frame type 
 and let's pass it here. 
 So now we're going to check let's 
 just pass in the frame 
 like this. 
 So I think we need to 
 like this. 
 So we are done with this. So let me just 
 move this like this 
 and this two 
 by this. 
 So let's u past all of this inside here. 
 So I'm going to pass. 
 So we need selected frame 
 select the frame. 
 So I made a mistake here. So let's 
 scroll down to let's also add else 
 no 
 by this and the error should stop. So 
 this is showing some error. So what I'm 
 going to do, I'm going to remove this. 
 I'm going to use this here. I'm going to 
 say uh if uh has uh initial data set to 
 ID else 
 running 
 and let's remove this 
 and then the set loading. 
 So we also have the initial frames. I 
 made some mistake here. So just say 
 initial frame. 
 Sorry, initial 
 frames. 
 Make sure it's the same thing with what 
 we have here. Initial frames. 
 So let's head back and let's pass it 
 here. 
 Initial frame 
 set loading. I think we're not 
 okay. We're going to use that but not 
 now. So I think we are done with it with 
 everything here. 
 So let's go and import the canvas 
 provider 
 like this. So we also forgot to add the 
 use canvas. So come down below here and 
 let's uh add use canvas here. Let's 
 import use um context from react and 
 then u we below here we are going to we 
 are going to use use effect to update 
 the loading 
 the loading status with inest 
 real time 
 event 
 like this. So we're going to use that 
 here and we're going to also use the 
 project ID for now. We're not using it. 
 So let's go back to the page and let's 
 work on the canvas component. So let's 
 pass the props here. We're going to use 
 inside the components. We're going to 
 pass in the project ID, project name, 
 and um if it's loading. So let's go into 
 the canvas components and let's get the 
 props here. 
 It's a project ID 
 of type string 
 then is pending 
 a boolean 
 then project name 
 string 
 or no. So let's get the project ID 
 is pending and also the project name. 
 Yeah. So we can get constant. Let's get 
 the uh from use canvas. 
 So we can get the team ID or the team 
 sorry team frame 
 and also the selected frame. Then we 
 have the set uh set selected frame ID. 
 Then we have the loading status here. 
 So here we're going to say constant uh 
 current 
 status 
 is going to be equals to if it's 
 pending. 
 We say fetching or loading. Let's say 
 fetching 
 then else we going to check if loading 
 is if loading stat is equals to ID and 
 uh is not completed 
 then we're going to say if it's not ID 
 and not completed we're going to return 
 the loading status. else we just can say 
 no by this. 
 So now here we're going to create uh the 
 div. 
 So let's say div here. Let's give this a 
 class name 
 relative 
 width full 
 height full 
 overflow hidden. 
 And there we're going to define the 
 floating 
 the floating bar 
 or floating to bar. 
 So this is going to hold the colors the 
 team colors and other uh other 
 components. 
 But here we're going to define the 
 loading status. Here we say current. So 
 I made a mistake. It should be current 
 status. 
 So we're going to just create a 
 component call canvas loader 
 and let's pass in the status 
 which is going to be current status like 
 this. So let's create the component 
 here. 
 I must do that. 
 Sorry. 
 Let's return 
 here. 
 So, let's get a status from the let's 
 pass in the type. So, I'm going to pass 
 in a status type. I'm going to also pass 
 section. So I'm going to import the 
 let's import loading sorry loading uh 
 status type from 
 is not coming up. Let's go into the 
 canvas. 
 Okay I need to export this 
 and then inside let's import it. 
 So we can get a status here. 
 So inside here we can say class name. 
 So let's import CN 
 on YouTube. 
 Now we say absolute 
 uh top four 
 left 1 / 2 then minus translate 
 x 1 / 2 minimum width 40. 
 Now we have the maximum width for 
 adding X4 
 C 1.5 
 and then we give this P bottom two. 
 Let's also give it rounded uh bottom 
 right excel and also rounded bottom left 
 too. Let's give shadow medium 
 and then we going to add comma here. 
 Sorry. Here. 
 So, let's also position this to the 
 center. So, um item center flex item 
 center space 
 X2 
 and then Z 50 like this. 
 Let's give 10. So here we're going to 
 say status 
 is equals to fetching. 
 Then we can give this a color h gray 
 500 and then dex white. 
 Let's duplicate this. 
 Then if this is uh 
 running 
 you can change the color to H number 
 500. 
 Let's do the same thing for analyzing. 
 Change this to blue 500. And the last 
 one generating 
 Uh we change this to purple 
 500 
 like this. So add a comma here. 
 So now we can see spinner. 
 So let's import spinner 
 last name 
 weight four 
 height four 
 and then 
 we can increase the stroke 
 to three. 
 Then we can have a span 
 and let's case a class name 
 text small 
 and font semiode 
 say capitaliz. 
 So we check if status 
 is equals to fetching. 
 Then we say loading 
 project 
 status. 
 So we need to also fix some issues. So 
 go into the um project page um ID id 
 page.tx TX and let's change this to flex 
 one 
 and also add flex one here 
 like this. So now let's scroll back up 
 and there we're going to give this a 
 div. 
 uh going to have a class name 
 of uh let's import CN 
 and then we're going to set this to 
 absolute 
 and set zero weightful 
 uh heightful mode. 
 I'm going to give this PG 
 and this color. Then on dark mode. 
 So I'll change this to this. 
 On dark mode, we're going to use MPG 
 um hash 2 4 
 2 4 and 2 three by this. then padding 
 three. 
 So inside this we're going to give a 
 style 
 account image. 
 We're going to define a gradient here. 
 I set this to circle. 
 So close this and we're going to give 
 this a color. So I'm going to say f 
 variable primary 
 and then I'm going to give this one 
 pixel 
 comma 
 and transparent 
 transparent 
 around 
 one pixel by this. 
 So add comma here 
 and then we're going to give a 
 background size 
 20 pixel 20 pixel 
 like this. So let's go ahead and create 
 the floating tubar. 
 So let's create the let's create here 
 canvas 
 superxar 
 just so let me copy this 
 and let's paste it here. Let's import 
 it. 
 So inside here we're going to list out 
 the teams and the user has the option to 
 uh change team and also we have the 
 prompt impute. We're going to also add 
 it here too. So let's change this to use 
 clients 
 and then I'm going to get the use canvas 
 here. 
 So we get a team current team and set 
 team. 
 So let's create let's create um define 
 the class name 
 say fix 
 top uh sis 
 left 
 1 / two and then the same thing 
 translate 
 uh 
 gives x 1 / 2 and z 50. 
 So let's remove this and let's define a 
 div here class name 
 of widthful 
 maximum width to Excel 
 background 
 like this. 
 And then we have a dark mode. We can 
 give this BG gray 
 line of 50 
 bonded 
 full shadow 
 XL and border. 
 So let's define a div here. 
 I say class name flex flex row 
 item center 
 to mpx3. 
 So here we're going to show the popover 
 for the AI generation. So I'm going to 
 import pop over. 
 So we've not added. So let's add this. 
 I'll cancel my server. MPX 
 chy CDN add pop over 
 and let's wait for this to add. 
 So this has added a popover. So let's 
 import that from Shanti. the popover 
 from UI popover 
 then pop over trigger. 
 So import from UI popover and then we 
 can define a button here. 
 So this is going to be an icon a size 
 icon small 
 then we're going to give this a class 
 name. So I'm going to paste in a class 
 name. So this is going to be gradient of 
 BJ to right and from purple 500 to 
 indigo 600 deped to Excel shadow large 
 and shadow pop 0.5 0.5 opacity and then 
 cursor pointer then here we are going to 
 pass in the icon so I'm going to say one 
 icon two give this a class name 
 or size four 
 like this. 
 So let's also import pop over 
 content. 
 Let's give a class name and width 80 
 3x2 
 and also let's say 
 P2 like this. Then we have rounded 
 excel 
 then shadow 
 large 
 at border by this and let's give this 
 empty one. So inside the popover we're 
 going to import the prompt impute 
 component we had before 
 and here we can pass in a prompt text 
 for now give it empty string the set um 
 prompt text so let's define a state here 
 so I'm just going to say constant 
 prompt text 
 and set prompt 
 text here 
 is equals to use state 
 empty string and type string. 
 So let's pass in the prompts here. 
 Prompts text 
 and then set prompts text here 
 like this. So, we're going to give this 
 a class name 
 animal minimum height uh 150 pixel. 
 And then we're going to just set the 
 ring to one. And then we're going to 
 change the ring color to purple 
 500 
 rounded 
 excel 
 then shadow 
 say shadow no 
 other 
 muted 
 like this. So we're going to say has 
 uh sorry hide submit button to true. 
 Remember we pass this uh this prop 
 inside the prompt impute to hide the 
 button. So we can have a button for 
 that. Here is a button 
 and let's give this a class name MC2 
 wait for and then I'm going to copy what 
 we have here from here background 
 like this 
 and then let's paste it inside here. 
 So we have background in purple 500 600 
 text white to excel shadow and also a 
 pointer. So let's just set here to 
 design 
 like this. So everything is okay like 
 this. 
 So now let's collapse this. 
 So here we're going to define the input. 
 This is also going to be a popover tune. 
 Yeah, I have pop over trigger 
 like this. So let's um let's add as 
 child here 
 collapse this and inside here we're 
 going to have a div 
 and this div we have a class name of 
 flex 
 item center 
 app 
 two px3 
 and py2. 
 So yeah, let's import 
 icon 
 a color icon icon. 
 Give this a class name of size sorry 
 size four. 
 And here 
 we're going to have a div 
 class last name and we say flex cap 1.5. 
 So we're going to loop through this. So 
 I'm going to say teams 
 we're going to take only a slice 
 only 0 four. 
 Then we're going to map to this 
 setting 
 and um ID sorry index 
 and let's return this. So let's return 
 let's return uh can return a button or 
 let's just use div for this 
 and there we can say row 
 button 
 and then we can get the color we say 
 colors 
 is equals to let's import team 
 from um from the team file then we pass 
 in the team start. 
 So now we have we pass in a key 
 index 
 let's have on click 
 we can get the event 
 we say e stop propagation 
 and then set team 
 we're going to pass in the team ID 
 dot ID like this. 
 So let's give this a class name 
 from 
 let's use CN. 
 So let's import it from uh CN from 
 YouTube. 
 So say width 6.5 
 height 6.5 
 rounded 
 bounded full 
 pointer 
 and then we can have let's say if 
 current team do id is equals to sorry 
 equals to team do ID. 
 Then we're going to show a ring 
 ring one and a ring 
 offset 
 one. So, 
 so let's add the sty. 
 Let's use the color below here. So, I'm 
 going to define a sty. So let me change 
 this to uh so let's say side 
 background color or background sorry 
 background 
 I say linear 
 dash gradient 
 want to pass 135 
 and then we're going to pass the 
 individual colors here we say color 
 dot 
 primary 
 and then you can see from color 
 assent. 
 So if you look into the PS team, you can 
 see that we got the the primary 
 the primary and we also have the assent 
 color here. 
 And this is how we map through this. We 
 look through this to get the colors. 
 So if I go back to the numbers floating 
 to bar and this is already defined. So 
 inside the U 
 think we're going to remove this. This 
 should be a self closing div. 
 So like this. 
 Now below this div we can have a div 
 and there we're going to say uh we're 
 going to have an icon 
 tre sorry tre and down 
 let's case a class name of a size 
 size four 
 and then we can say plus 
 sim 
 dot length 
 minus four 
 more. So have number of more team. So 
 I'm going to just give this a class name 
 of flex item center 
 gap 
 one 
 text 
 small like this. 
 I think that is all. 
 as you. So, 
 so we're going to uh pass the let's pass 
 the uh popover 
 content. 
 So, let's give this a class name 
 of px2 
 excel. Uh the same thing we have shadow 
 border as sorry shadow large and then 
 border. 
 So we're going to create a team selector 
 component. So I've got a team selector 
 selector component. 
 So let's create that inside the canvas. 
 So same selector 
 cx6x 
 same 
 selector. So let's import that. 
 So we need to Okay, 
 we can copy this. Let me run this. 
 We can copy this and let's go into the 
 components 
 and inside here we're going to just 
 paste this here. I change this to use 
 client 
 and let's import use canvas here. 
 And then we should have a div uh sorry a 
 class name flex flex column 
 u maximum height 
 uh let's give this 96 
 and then 
 we have a div 
 name flex one 
 padding button two um padding 
 padding x4 and let's overflow 
 y 
 let's give this history 
 class name our font semi bold text small 
 and then margin button too 
 like this. 
 So here we have a div 
 last name 
 um p y 2 space 
 y3. 
 >> Yeah. 
 So let's be team 
 map 
 team 
 and let's return 
 team same item or team let's call this 
 same item 
 a key 
 ID 
 We're going to pass in the team 
 and we're going to get if is selected. 
 Oh, sorry. We say current 
 team 
 do id 
 is equals to team do ID 
 on select. 
 We are going to return set team 
 and team 
 ID like this. So yeah, let's create a 
 function 
 uh let's call team 
 item like this. 
 So here I just going to create object 
 team of type team type 
 is selected 
 boolean. 
 And we have on select 
 return we don't void. 
 Okay. So let's just return 
 and error should stop. So let's change 
 this to button. 
 And let's get the uh props here. Say 
 team 
 is selected 
 and unselect. 
 So here I'm going to import the PS team 
 color. So import that from team. 
 Then we can say on click 
 sorry 
 on click 
 on select 
 and let's give this a class name. 
 as import from you to 
 now say flex item center 
 justify 
 uh between 
 padding one rounded excel border 
 tap sorry t 
 and BG background 
 like this. So let's add comma here 
 uh sorry is selected 
 then we say border two 
 else border 
 like this. 
 So let's add style 
 other color 
 is selected 
 color 
 primary 
 undefined 
 or we can just say empty string like 
 this. 
 So we need to loop through this. So I'll 
 just create a divlex 
 gap two. 
 So let's look through this. So I'll pick 
 some of the uh colors. I want to uh I 
 want to look through the primary, 
 secondary. 
 These are the prim the main colors 
 assent 
 and then the last one muted 
 set map. 
 We get a key 
 and let's return a div save close 
 elements 
 pass the key. 
 So I'll say class name 
 width for height for rounded full 
 and border. 
 We have the sty 
 ground color. 
 We get a key. Pass a key. then 
 and give us a border color. 
 Let's just say like this this color. 
 And then 
 uh 
 outside this div we have a separate div 
 with class name flex item center 
 drop two flex 
 0.9 
 and there we have span. 
 Uh let's give this a class name 
 of text more 
 and team name. 
 So if it's selected 
 let's import check icon 
 give this a class name 
 of 
 size. 
 So let me remove let me just use size 
 here 16 
 and then color 
 color primary 
 like this. So we are done with it. So 
 let's head over to the canvas floating 
 toolbar and then yeah. So yeah after pop 
 over we're going to import a separator. 
 So let's import separator 
 for UI separator. Now we have two 
 buttons. So let's just give this a D 
 first 
 button. 
 Uh this is going to be outline variance 
 outline 
 size icon small 
 name rounded full 
 pointer 
 and then 
 we're going to import an icon. So this 
 is going to be a camera icon 
 and let's give a class name of size 4.5. 
 So this button is going to be used to 
 screenshot the canvas. Let's give it a 
 class name 
 flex item center drop 
 like this. So let's import let's copy 
 this and paste it here. 
 Let's set this to 
 small and this should be default 
 like this. Similar to the same thing but 
 here we're going to say um save 
 and also let's pass in an icon save 
 icon. 
 So let's import this from Lucy React and 
 uh that is it. So, let's check this out. 
 Make sure everything is working. 
 So, let's run the server. MPN rundev. 
 And I'm going to wait for this to load. 
 So, now this is it. Now, we can see the 
 uh the icon, the AI icon. 
 Then we can see the pop over. We can 
 click here to type. 
 Then we also have the team. 
 There are four team. And if you click on 
 more, you can be able to see all of the 
 other teams. Then we have the the 
 screenshot icon and also the save 
 button. So we notice this is showing 
 warning because we set it as the first. 
 So, I'm think I'm going to go and remove 
 the the default warning from the loading 
 status, but let's go ahead and work on 
 the this is the canvas 
 the show. So, I'm going to fix that. So, 
 we're going to work on the um the canvas 
 tools here, which we can use to zoom in 
 and zoom out. So, we're going to install 
 a package to handle that. So let's head 
 over to the code 
 and then let's go to canvas. 
 So let me fix this. 
 So also make sure to remove this. So 
 this should work. Remove the uh the 
 other close bracket there. So I've 
 removed this. Now we need to install a 
 package to handle the zoom effect and 
 also the movement. So I'm going to trans 
 my server npm install. Uh let's we're 
 going to install react zoom pan pitch. 
 So let's install version 3.7.0. 
 So let's wait for this to install. 
 So it has installed completely. So let's 
 head over. So the first thing we're 
 going to do is to create a state. So 
 let's say constant 
 is equals to use state. 
 And here we are going to define the two 
 mode or you can call it the 
 two mode. Yeah. Two mode is okay. Set to 
 mode. 
 Then we can define the constant for that 
 for the two. I'm going to create a 
 constant folder. 
 So just a constant 
 canvas. 
 Let's just create this here. Canvas.x. 
 So inside here we're going to create the 
 nump so we can use it across the canvas. 
 comp. So I'm going to define the uh enum 
 and see we have select and we have the 
 hand to uh two mode and this is the 
 type. So we can use this inside the 
 canvas components. So let's import the 
 type say two 
 mode type 
 and the default is two mode in select. 
 So now we also need the uh state for to 
 handle the to get the zoom percentage. 
 So I'm going to say use state 
 and this is going to be of type number 
 and we're going to say default to 53. 
 It says zoom 
 um percentage percent set zoom 
 percent. 
 So like this and we have uh current 
 scale 
 as a set current 
 scale 
 and this is going to be a default of 0 
 53. So now let's import. We're going to 
 define this. Uh let me collapse this. 
 So at the top here, we're going to 
 import 
 the transformer 
 transform 
 wrapper. 
 So let's import this. So I'll scroll up 
 and let's import let's move this to the 
 top 
 and import it here. So let's scroll down 
 to this. Now we're going to move this 
 inside the uh the transform wrapper. So 
 what we're going to do first we're going 
 to pass in the initial scale. 
 Initial scale which is going to be 0.53. 
 Then we need to also pass in the initial 
 position 
 for X we say 40. Then initial position Y 
 we can give this five. The minimum scale 
 0.1 
 the maximum scale 
 three 
 and then let's give this wheel 
 a step 
 as 0.1. 
 So if you go into the transform wrapper 
 uh we can go into 
 the sorry 
 let's go into transform wrapper 
 and then if you scroll up 
 inside the transform wrapper we should 
 be able to see the uh 
 the props to pass we can see we have the 
 uh initial position x y and you can see 
 you have 
 they have different options here can see 
 the props. So I'm going to add the 
 pinch. 
 This is going to be step 
 0.1. 
 And now um we are going to say if is if 
 we double click 
 double click save to true. 
 And then we can say center 
 zoom 
 zoom out force 
 then center omit on init center on init 
 I'll just say force 
 then smooth 
 true 
 then limit bound false 
 so we don't want it you want the user or 
 we can be able to move the the item in 
 the canvas whether out of the canvas or 
 inside the canvas. So it's not limited 
 to a bound 
 bound. Yeah. So we can also have on 
 transformed. So we get the ref from 
 this. Now we can use this to get the set 
 the percent the zoom um percent. So I 
 say math dot round 
 ref 
 scale 
 time 100 
 and then we can also set the current 
 the current scale 
 ref 
 scale by this. So now here we are going 
 to we're going to get C. So let's get 
 let's open this 
 and we're going to return. 
 Let's return this. So let's move this 
 inside 
 inside this. Now we can get the zoom in 
 and the zoom out 
 method. 
 So we going to use this. So now uh let's 
 just 
 edit like this. 
 Sorry, I think I made a mistake here. 
 This should be an object and then we can 
 get like this. 
 So now we've set this. So we need to 
 also u say if panning. 
 So we want to disable this if two mode 
 is not equals to sum mode enum hand. So 
 we're going to use the hand to move the 
 canvas. Once the uh two changes to u to 
 select then this the canvas will be 
 disabled the transform wpper will be 
 disabled. 
 So uh we are going to also uh we can 
 also say let's add comma here. So if 
 if two mode 
 is equals to two mode in hand 
 then we can say cursor 
 grab 
 then active 
 cursor 
 grabbing 
 then else we Let's say console default 
 like this. So now we going to go ahead 
 and create the canvas control where 
 we're going to pass in a zoom and a zoom 
 out method. So, but first let's pass in 
 the transform component. 
 And then inside here, we're going to 
 let's just define a div and say block 
 like this 
 for now. 
 Then we can give this a wrapper class. 
 Sorry, not a wrapper class, a wrapper 
 sty. 
 And let's say width 
 100%. 
 Then height 100%. 
 So we're giving a full width 
 and overflow. We're going to set it on 
 set overflow. Then we also have the 
 context style. 
 So I'll copy the same thing. width and 
 height of the content 
 and paste it here. 
 So we can set a background color. 
 Let's just set this to red for now. Like 
 this. So now let's quickly create the 
 canvas control. 
 So let's pass in the props. We're going 
 to pass in zoom in, zoom out, position 
 zoom, percentage to mode, and set to 
 mode. So let's create the canvas control 
 here canvas 
 controls 
 cxs. 
 So e 
 canvas 
 controls. 
 So let's define the uh type here. 
 It's a props 
 type. 
 So zoom in 
 type of uh return for it. 
 So let's duplicate that and let's change 
 this to zoom out. 
 Then we have sum percent 
 number 
 like this. Then we have to type which is 
 of type two mode type. 
 Then we have set to mode 
 and let's return this 
 void. Then we say two 
 mode is of type two mode 
 type like this. So we can get everything 
 here. And let's set the prop type here. 
 So let's get zoom in, zoom out, zoom%, 
 zoom mode. 
 Sorry, this should be zoom mode. 
 and then set to moon 
 like this. So here we are going to have 
 a class name 
 going to have minus 
 translates 
 x 1 / two the absolute 
 bottom floor 
 I select 
 one / two 
 flex item Enter 
 cap tree rounded 
 border. 
 So let's give this a PG black 
 dark mode. We just change this to PJ uh 
 muted padding 
 1.5 
 then padding X4. Let's just change this 
 to padding Y. 
 Then shadow 
 shadow MD 
 and text white. 
 So let's create a div again. 
 And there we have in class name flex 
 item center 
 gap one. 
 So let's um let's get the button from 
 the UI button component. 
 And this is going to have a size uh icon 
 small 
 variant 
 post 
 like this. Then we're going to have a 
 class name. Let's import CN 
 from YouTube. 
 And there we're going to uh we're going 
 to define the classes here. So I'm going 
 to paste that. So let's import two mode 
 in. So here I'm going to say rounded for 
 cos and pointer MB and text. Then we can 
 set on click 
 set to 
 two mode 
 to mode in select 
 and then we can use we can import icon 
 the mouse 
 pointer icon. 
 So you can scroll down. We also have a 
 button too 
 or we should copy this same thing. 
 Paste it here. Change this to hand icon. 
 I import icon 
 like this. So now uh below here. So 
 we're going to define a separator. So 
 let's import separator 
 from UI separator. So I'm going to just 
 copy everything I did here 
 and I'm going to paste it here. 
 So now we have uh the button. So let's 
 change this to minus icon. 
 And then we also have we can change this 
 to plus icon. 
 So here we're going to say 
 zoom in 
 and then we pass in the zoom out. 
 And then between in between them we're 
 going to have a div 
 a class name 
 or minimum width sorry minimum width 10 
 x center 
 and text small 
 and we can call the zoom percent and add 
 a percent sign. 
 So we are done with this. So let's go 
 into index.tss and let's import uh 
 canvas controls 
 and this is it. 
 So let me just give this a class name um 
 size 
 five bg blue 500. So let's test this 
 out. So I'll say npm rundev. 
 So let's wait for this to run. 
 So this is it. Now it has load. Uh we 
 can't move uh anything. This is not 
 clickable. So I think uh there's a 
 mistake somewhere. 
 The button is not clickable 
 and nothing is moving. So let's first of 
 all fix this. So I'll just go back to 
 the code 
 and then let's go into the canvas 
 controls. 
 I think I made a mistake here. So if if 
 hand 
 this color 
 okay I think 
 sorry it should be if hand 
 set this to hand 
 and then if this is hand 
 then I think we need to remove this 
 remove this. 
 So, I'll just change this to like this. 
 Like this. 
 So, hopefully this work. 
 So, let me move into the canvas 
 component 
 and this to work. 
 Okay. So let's test this out. Let me the 
 browser 
 and now click on the hand. And we can 
 see that it's moving. 
 So I think I made I added a background 
 color to the wrapper. So I'm going to 
 move it to 
 sorry scroll down here. Okay. So I'll 
 move the background color to the content 
 style 
 and uh let's head over to the browser. 
 Now we can see the content. So if we 
 move we can see uh this moving and 
 there's no limit bound. You can see I 
 can move this out of the uh canvas and I 
 can move it like this. So everything is 
 working fine. 
 So I notice the canvas is not showing 
 the dot. So if we load this again and we 
 can see the canvas dot is showing there. 
 We can see the canvas now and we can 
 move in and out. We can select this if 
 you click on the select card. We can see 
 nothing move. So we going to go and work 
 on the um the frame. So we can be able 
 to move the frame once we click on the 
 select uh icon. 
 But let's test the zoom effect first. So 
 I can zoom out and then zoom in and 
 everything works fine. 
 So let's go back to the code. 
 And then let's work on the device frame. 
 So let's create the five. Let's create 
 the file for the device frame. So I'm 
 going to create a file here. I say 
 device 
 frame 
 tx 
 say device 
 and frame. So to use this, we're going 
 to install a package. So I'll cancel my 
 server and say npm install um let's 
 space react rd and click on enter. So 
 this should install react rd. So let's 
 wait for this to install. So this has 
 installed completely. So now let's um 
 let's define the interface 
 for the type. So say type 
 props type 
 and then the device frame is going to 
 take the HTML content 
 and this is going to be of type string. 
 Then we're going to also pass in the 
 title which is uh of type string. 
 And then we also pass in the width and 
 then we're going to pass in width, 
 minimum, height, initial position. Then 
 the u we can pass in the frame ID if we 
 have one. Then we can also pass in the 
 style. So remember in the team if you go 
 into the team remember we have the 
 the style option there which define the 
 colors. 
 So this style we're going to be passing 
 this into the device frame. Uh then we 
 can just pass this. Let's just get 
 let's set the prop type here. 
 And inside here we can get the HTML 
 the title 
 we just say to untitled 
 the default value. The width 
 we can set the default width for the 
 device 420 for mobile device minimum 
 height 
 uh 800. 
 Then we have the initial position. We 
 can set that to x which is going to zero 
 and y 
 z like this. 
 So this should be equals to 
 then we can get the frame ID 
 scale 
 set to one by default. 
 So let's add comma here. Now we need to 
 also pass in the two mode. 
 Then we also get the team style like 
 this. So we should also uh change this 
 to use clients. 
 So let's get the selected frame to use 
 uh canvas. 
 So we get the selected frame ID 
 frame ID and set selected frame ID like 
 this. 
 So now we can also define the frame size 
 frame size. We're going to create a 
 state use state. 
 And this will pass in the width 
 and the height. 
 So the height is going to be um we're 
 going to say type of make sure the 
 height is uh a number. So we're going to 
 pass in the minimum uh height here. 
 Uh then 
 we are going to okay get the set state 
 set uh frame 
 frame size like this 
 and then we need to define I frame 
 ref 
 is going to be equals to use ref. 
 No of type you can see HTML 
 HTML I frame element. 
 So let's import the use ref. 
 So we need to get the selected frame. So 
 I'm going to say is selected if selected 
 frame ID is equals to the frame ID we 
 pass. Now we need to define the full 
 content or the full HTML. 
 So this is going to be equals to we're 
 going to create a method which is going 
 to which is going to be get HTML wrapper 
 like this and here we're going to pass 
 in pass in the HTML content 
 then we're going to pass in title the 
 team sty and also the frame ID 
 so we can create this inside the uh lip 
 you can say frame 
 wrapper 
 tx. So you can copy that from the G. I'm 
 going to paste that here. And so we can 
 so I'll paste it here. And now you can 
 see that this is so let me just import 
 uh this team. 
 Then I'm going to also import the device 
 uh base variable. Sorry. Now you can see 
 that we have the uh HTML title and team 
 sty and then we get the final step. 
 There's no sting pass. Then we have the 
 uh HTML wrapper header. We have the 
 Google font 
 uh which is this Google font. We have 
 CSS and file. Then we also have the 
 style which is root. We pass in the base 
 variables and the final team. 
 Then the base variable is this. Then 
 this will be uh the team that we pass 
 below the uh base variable. Then we have 
 the height and body body. We have the 
 default background to background. Then 
 we have the root which is with 100 100% 
 minimum height. And then we set to none. 
 Here we have the root ID root and also 
 we pass in the HTML. So this script is 
 used to make the content of the I frame 
 the content of the I frame to match with 
 the height. So if the high frame content 
 is uh um longer is going to increase the 
 height. So so that is it. So let's 
 import this inside the uh device frame. 
 So import this. 
 Yeah. So now let's use this. So I'm 
 going to just remove this and let's 
 import RND 
 RND from. 
 So let's import this. 
 Let me scroll up. 
 Import it here. 
 So import rd 
 from 
 react 
 rd like this. 
 So I think there's an error. Oh, sorry. 
 I need to make this 
 like this. And the error should stop. So 
 yeah, we're going to pass in the default 
 the default x and y. So say x is going 
 to be initial position 
 dox. 
 Then y is going to be initial um 
 position do y. 
 We are going to pass in the width. 
 Then the height. The height is going to 
 be frame size 
 dot height. So these are the default 
 value. Then we can also pass a minimum 
 width which is going to be width. 
 Then minimum height which is going to be 
 minimum height. 
 Then size 
 which is going to be width 
 frame size 
 dot uh width. 
 Then height 
 frame size 
 dot height. 
 Now we need to disable disable dragging 
 uh if two bar 
 sorry if two mode is equals to uh two. 
 So let's import the enam too hand 
 like this. Then enable resizing 
 only if it's selected 
 and two mode 
 is not equals to 
 two mode in dot hand. 
 So scale we're going to pass in a scale. 
 So passing a skill then on click 
 on click 
 sorry 
 let's set the event to any year 
 and let's say e does um stop um 
 propagation 
 So let's set this to any. 
 So let me import this 
 or let's just disable it. Sorry, let's 
 disable it for the entire file. 
 Then I say if two mode is equals to 
 two mode in plus select 
 then set selected I frame 
 frame ID like this. 
 Now we need to show since we enable 
 resizing we need to show the uh resize 
 handle component. So I'm going to define 
 the it's going to have like a square box 
 by the right top right top left top and 
 bottom left and bottom right. So we can 
 say resize 
 resize um handle 
 not handle classes handle components. 
 So we're going to say top left 
 if it's selected 
 we going to pass in the handle component 
 then we set it on define 
 like this. So let's define the handle 
 component here. So I'm going to just 
 paste it here. So this is just going to 
 be a div with background white and 
 border below 500. So just scroll down. 
 This should error should stop. 
 So this is now working. 
 Handle define. Let's check this again. 
 So I think I'll need to move this from 
 the top here and let's move it down 
 outside 
 and the error should stop. So let's 
 duplicate this and let's have the top 
 left. We have the top right. 
 You also have the top sorry bottom left. 
 We have the um bottom right 
 like this. So we can also have resize 
 size 
 resize 
 um handle 
 style. 
 So I say top 
 we going to change the uh cursor uh 
 going to change this to 
 north uh north south resize 
 not south resize then we can also 
 duplicate this and we have and bottom 
 it is going to be uh the same thing. So 
 for left and right we're going to have 
 east 
 east west resize 
 and let's change this to right like 
 this. 
 So now we can also handle the unresign 
 method. 
 We can get the uh let's say direction 
 and then we need ref. 
 So we're going to return this. So, we're 
 going to say set frame size 
 width. 
 We're going to convert this into make 
 sure this is an int. 
 So, ref style 
 dot width. 
 So, let me put this inside an object. 
 Then we can duplicate this and change 
 this to height. 
 Also change this to height. 
 So now we need to give this a class 
 name. 
 So I'm going to change this to CN. So 
 import CN from YouTube tools 
 and then I'll just say relative 
 Z index uh 10. 
 Then if it's selected, 
 it is selected and 
 two mode is not equals to two in hand. 
 Sorry. 
 Then 
 you're going to say ring 
 ring loop 
 400. the ring offset 
 offset one 
 like this. So now we say if two mode 
 is equals to two mode in 
 sorry hand 
 then we're going to change the cursor to 
 cursor grab. 
 Then if active we going to change this 
 to cursor grabbing 
 else we change this to cursor move 
 like this. So inside here we're going to 
 have a div 
 class name 
 weightful heightful 
 like this. Now we're going to also 
 create the frame to bar. 
 So I'm going to comment this out for 
 now. 
 So below let's define a div 
 and then let's give this a class name 
 and let's import let's say CN. 
 So let's see if can wait for height auto 
 shadow small. 
 Then also we could give this rounded 
 uh 36 pixel. 
 then overflow 
 hidden 
 like this. So we're going to say let's 
 give this let's set comma here. I say if 
 selected 
 and two mode 
 is not equals to the two mode in 
 dot hand 
 then we're going to surrounded 
 none. 
 So inside here we're going to pass in 
 the I frame. So I'll paste that here. So 
 we have the ref i frame ref the full 
 HTML. Then we pass in the title of the 
 frame. Then we also set some box allow 
 script and allow and same origin. Then 
 we have the width, the maximum height, 
 the height of the frame, border none, 
 pointer event none, display block and 
 background white. 
 So that is it. So let's test this out 
 before then we go ahead and work on the 
 frame tuber. So, I'll go into the canvas 
 uh 
 yeah index.tx 
 and we're going to pass all of this 
 inside here. 
 So, I'll just call device 
 frame. 
 So, let's pass this a frame ID. So, I'll 
 just give this um demo and then I'm 
 going to pass in title. So I'll say 
 screen 
 or demo screen. 
 Then I'll just I'll give it an initial 
 position. I'll say X uh let's give this 
 1, Y 
 100. 
 I'll just give this anything. I'll just 
 give this to a two mode. We're going to 
 pass in the two mode. 
 Then our team style 
 do we have team? Yeah. So this is going 
 to use the default team does okay we got 
 the team style from the use canvas. Then 
 I think uh we not passing okay the HTML 
 content. So u let's pass that here. I 
 say HTML empty string. So I'm going to 
 paste a demo HTML content. Uh this is 
 it. So you can copy it from this um 
 inside this file in the GitHub. 
 You can see that this just have a div 
 and some um the and some CSS classes. 
 Then I'm going to scroll down now. And 
 so I'll remove this. We don't use this 
 again. 
 So we're going to also pass in the scale 
 current skill like this. So let me pass 
 in the demo HTML content here. And I 
 think uh that is all for now. So we can 
 test this out. So let's make sure the 
 server is running. 
 So my server is running. So let's wait. 
 And now we can see that it's showing 
 properly. So now you can see my once I 
 move my um mouse into the frame, I can 
 move this out. And if I select this, you 
 can see the handle there. I can resize 
 this. 
 I can increase this. And you can see or 
 you can see that it's not taking the 
 full width of the content once we load. 
 This is because we need to handle that 
 inside the um device frame component. 
 So, but everything is working fine. So, 
 we just need a tool bar and this one is 
 not moving because this does not have 
 the uh the R&D component. So, if I click 
 on this now everything is is moving and 
 this become disable then it's no more 
 selectable again. So, that is it. So 
 let's just go and then work on the uh 
 let's fix the this uh not able to fill 
 the content take the height of the 
 content and also let's use the let's 
 remove the demo and use the frame from 
 the canvas context. So let's head over 
 to the browser sorry to the code editor. 
 So I'll collapse this now 
 and let me go back inside 
 inside the device frame. 
 Let's um let's first of all look through 
 this uh let's the frames. 
 So let's do that here. 
 So I'm going to remove this box. We 
 don't need this again. And I'm going to 
 remove this um color I added here. 
 this background red. 
 So, let's do that here. So, I'm going to 
 say frames. 
 Let's wrap Let me wrap this inside a div 
 frame dot map 
 frame and then let's get the index here. 
 Let's say index number 
 and then let's return this 
 like this and then let's return 
 let's copy this device frame 
 and let's pass it here. So let's set the 
 key to frame do ID 
 like this. Then you can pass the frame 
 ID here. Frame dot id. Then we also have 
 the frame frame dot title. 
 Then we also have frame html content. 
 Then the scale is okay like this. And 
 the team is okay like this. So we going 
 to try to because we may have different 
 frame want to position them after each 
 other. So what I'm going to do, I'm 
 going to say constant base 
 base X is going to be 100 
 plus 
 index 
 time 100 
 not 100 480 sorry 
 yeah 480 then we have a constant y is 
 equals to 100. 
 So now we can set uh the x to base 
 x while y says 100 
 like this. 
 So now remember we added in the type uh 
 frame 
 so sorry canvas type in canvas 
 let me check it here inside the uh type 
 okay type we added um is loading boolean 
 so I'm going to um I'm going to handle 
 that here. So what I'm going to I'm 
 going to say if frame dot is loading 
 if frame is loading then we're going to 
 return 
 device 
 frame. 
 So, we're going to pass in a key index 
 like this. And we're going to add in a 
 sty here. 
 We're going to say transform 
 then transl uh translate. 
 You're going to pass in the base x 
 um px and also 100 pixel. 
 So let's create device and f skeleton 
 here.x 
 r a s e 
 So frame 
 and then the SC. 
 So I'll just import this. 
 So import this device frame. 
 So why is not showing? 
 Okay, I think I made a mistake. So let 
 me go into device current 
 copy this and then let me replace this 
 with it and let me import this. 
 Now we need to pass in a prop. So I just 
 go into device 
 frame skeleton. So let's set a type say 
 type props 
 props type. 
 So let's get um 
 sty 
 CSS uh CSS property 
 CSS property 
 from react by this now we can get sty 
 let's set the props type sorry the props 
 type yeah here 
 and now we and use a div. Let's um pass 
 in the class name here. 
 Let's say absolute 
 origin center. 
 And let's give rounded 
 36 pixel 
 overflow hidden. 
 And then we can have shadow small 
 ring one 
 by this ring. So let's give this a sty 
 width 
 420 pixel. Sorry 420 
 height 
 800 
 background 
 white 
 and then we can pass in the sty. 
 So now we're going to define the header 
 which is going to be a div. 
 Uh let's import currency. 
 So duplicate this here. We're going to 
 just have class name flex item center 
 two 
 padding three and border 
 three. So I'm going to paste the 
 remaining ones here. So I'll just add 
 the class here. Let's first add the 
 class here. Class name height uh five, 
 width five and then rounded 
 MD. 
 Let's also have class name 
 um height four and then width 32. 
 Then below here I'm going to paste in. 
 So this is going to be the header while 
 this is the phone the phone screen. So 
 just like this save that and this should 
 it should be fine. So uh let's go into 
 the canvas 
 and now we are done with this part. So 
 let's go and work on the uh 
 the frame tool bar. 
 So let's go into the frame device frame 
 and let's scroll down to where we have 
 the frame to 
 uncomment. 
 So let's pass in the U the prop. So I'm 
 going to pass in title is selected and 
 then I'm going to also pass in disable 
 which is going to be equals to force. 
 Then we're going to pass in couple of 
 method here. Say um um is downloading 
 image or PNG. We set this to first for 
 now. We also have on download 
 and PNG. 
 So now we're going to just give this 
 this a method. And we also have 
 an open 
 HTML dialogue. 
 So let's return this like this. So now 
 let's create the uh device to bar. So I 
 just say device 
 uh device frame 
 to bar.x. 
 So RFC 
 device frame 
 two bar. So let me change this to device 
 frame to bar. 
 So let's import this. 
 Now let's go into the device frame and 
 let's define the type. So let's go into 
 the object here. Let's create a type 
 uh type props type 
 is equals to I'm going to pass in types 
 here. So let's change this to use 
 clients 
 and then I'm going to pass in the prop 
 type here. 
 So I'll get the title 
 is selected 
 uh disabled 
 is downloading 
 then on open dialogue and on downloading 
 download PDF. 
 So uh here we're going to have a class 
 name. 
 So we're going to have 
 absolute 
 let's first for change this to CN. 
 So import CN from 
 and then I'm going to just pass in sorry 
 absolute 
 a flex item center 
 gap two 
 rounded for 
 and Z index 50. 
 So now we're going to say if selected 
 we're going to set this to left 
 1 / two 
 minus translate 
 x 1 / two 
 then border add 
 like this 
 then else 
 Um let's add this like this. So we say 
 width 150 pixel 
 then height auto 
 left 
 10 
 like this. 
 So we should also add in um 
 yeah sorry not inside here. 
 So we should also add in on dark mode. 
 We going to change this to BG uh muted 
 padding left two padding right for then 
 Y one shadow 
 as small and then we're going to give 
 this a minimum width 
 of 202 
 pixel and then height of U 
 35 pixel 
 like this. So let's define uh let's set 
 a sty 
 top 
 um 
 let's use this here say is selected 
 - 70 pixel 
 else we just say minus 38 pixel like 
 this then transform 
 origin 
 center top like this. 
 So inside the div we're going to have a 
 div 
 button. 
 Let's give this a class name of flex 
 flex of 0.8 It's 
 a cursor or craft 
 item center 
 justify 
 it says justify stats 
 gap 1.5 
 then add 
 we saw uh variable 
 like this. So let's um pass in the icon 
 grip icon 
 vertical from Lucy React. So let's give 
 a class name of size four 
 text muted forground 
 like this. And then we're going to have 
 a div. 
 Let's give this a class name. 
 Let's use CN. Yeah, 
 let's say minimum um 
 minimum width 20 uh font medium 
 X small. 
 Then uh padding um margin x pixel 
 then truncate 
 by this. 
 So if selected best if selected here 
 we can set uh 
 width to 100 pixel. 
 So let's pass in the title 
 here 
 like this. 
 So below the div we're going to have 
 we're going to check if this is 
 selected. 
 Then we're going to we're going to show 
 the uh other um buttons. Yeah. So I'm 
 going to add a separator here. So let's 
 import separator from UI se UI 
 separator. Then here I'm going to 
 have a button here. 
 So this we're going to have two buttons 
 here. 
 So let me have let's set here disabled 
 to disabled 
 then size 
 um icon small 
 variant 
 cost. 
 Then let's have class name rounded 
 full 
 dark mode. We're going to have BG 
 uh BG let's say hover BG 
 white 
 or 0.2 
 then hover 
 muted here then cursor pointer 
 like this. So here we're going to say on 
 click and this is going to be um an open 
 HTML dialogue. So let's import the 
 encode 
 icon here. 
 So let's duplicate this. 
 And there we're going to just change 
 this to download icon 
 like this. So here we're going to say uh 
 disabled disabled and here we say it's 
 downloading 
 like this. Then we're going to check if 
 it's downloading. 
 If downloading then show a spinner 
 else we pass in the download icon. So 
 let's import spinner from 
 let's import this from 
 from UI 
 UI spinner. So I think everything is 
 okay like this. 
 Uh okay we need to also add the on click 
 here. 
 So changes to on download PNG. 
 So, let me remove this and let's test 
 this out. I'll go into the canvas um 
 components and make sure the server is 
 running. So, let's head over to the 
 browser 
 and let me reload this. 
 I think we can see 
 this is this is um 
 this is far away from the device 
 it's the device frame. So let me go and 
 fix this. 
 So let's go ahead and fix this. I'll go 
 into my code editor. 
 And then let's go into the device frame 
 toolbar. And what I'm going to do, I'm 
 going to add in uh let's add in scale 
 here. 
 So let's say scale 
 is equals to 1.7. 
 So let's pass scale. 
 Uh 
 let's make this optional. 
 number 
 like this. So add a comma here and let's 
 pass this here. So say transform scale 
 and pass scale. So I'm going to also 
 change this to flex one. Then this 
 button we need to also add I'll just 
 wrap this inside a div. 
 And let's have a class name here. 
 flex item center 
 cap x like this. 
 So let's check this out again. 
 So let me reload my browser. Now we can 
 see so I can zoom out now. 
 So this is showing properly. Uh we can 
 move this 
 and we can see if we move our mouse over 
 here you can see the drag u the cursor 
 changes to drag. 
 So this is working um this is working 
 fine. So we need to also design work on 
 the dialog. So once we click on this um 
 button this will open the dialog to see 
 the code uh the HTML code of this 
 iframe. And then we also need to fix the 
 uh 
 the content of the height. I mean the 
 content of the frame should be equal to 
 the height of the frame. So so let's 
 first of all let's work on the frame 
 height and then work on the the uh 
 dialogue to show to display the uh code. 
 So, I'm going to my code editor and then 
 let's go into 
 let's go into the device frame. So, 
 inside the device frame 
 and then we're going to use a use 
 effect. So, inside the um get um so 
 inside the frame wrapper if I scroll 
 down here we can see that we send a 
 message. You can see send we have a send 
 uh method and this is going to send a 
 post message frame height and the 
 height. So what we going to do? We're 
 going to listen to this uh we're going 
 to listen to this uh message. So let's 
 come over here. Let's say use event use 
 uh effect. 
 So let me just remove everything here. 
 Let me import use effect from React. 
 Now I'm going to say constant handle 
 message 
 is equals to event 
 message event 
 and let's return this. Say if 
 event 
 dot data dot type 
 sorry 
 if event data type 
 is equals to 
 frame height. So, let's go into the 
 frame wrapper and I'll copy this frame 
 height 
 and 
 and event 
 data do frame 
 id 
 is equals to frame id. 
 Then we also passing the frame ID. Here 
 we can see frame ID. 
 Then we can say set frame size. 
 So we get the previous state. 
 Uh we return this. So I'm just going to 
 open this object the structure the 
 previous state. And then we say height 
 uh event 
 dot data dot height 
 like this. So the height is coming from 
 this here. You can see height. 
 So now we're going to pass this method 
 inside window 
 dot add event listener 
 message 
 handle message. 
 Then we're going to return this. 
 We're going to remove the listener. to 
 say window dot remove event listener 
 message 
 handle message. 
 So we're going to pass in the frame ID 
 like this. 
 So now this is going to take up the u 
 the height of the content. 
 So let's go and and create the canvas 
 component. So I'm just going to the the 
 HTML cont. So I'm going to collapse this 
 and then here we're going to define that 
 here. We're going to create a component 
 for that. So let's create the state for 
 this. We're going to say open uh open 
 HTML dialog. 
 And then let's scroll down here. 
 We're going to say HTML 
 ML dialog. 
 We're going to pass in the HTML 
 which is going to be selected 
 frame. 
 Okay, we need to get the selected frame 
 from the use canvas. So I pass that 
 here. 
 So selected frame HTML content 
 like this. We also need to pass in the 
 team 
 style which is going to be team 
 style. 
 Then let's also add open 
 uh open HTML dialog. Then open uh on 
 open 
 changes 
 or change we set 
 on open 
 sorry yeah open HTML dialog. 
 So let's create that or just say HTML 
 dialog cx 
 HTML 
 dialog. So let's import this. 
 So inside the HTML dialog, we are going 
 to add a component from AI SDK. So let's 
 go into the browser and let's head over 
 to AI SDK. 
 So I'll just go to AI SDK. 
 Okay, we can see suggestion here. So 
 let's click on this and uh let's wait 
 for this to load. So A SDK elements. 
 So, let me scroll down to where we have 
 the uh 
 let's scroll down to where we have 
 so let's install uh let's add the code 
 block. So, just scroll down to where we 
 have here is add code block. 
 So, just copy this or let's use shanti 
 add elements. 
 So, let me just copy this and let's head 
 over to the code 
 and let me open my terminal 
 to the server and I'm going to just 
 paste this here and click on enter. So, 
 let's wait for this to add the air 
 element code block into our project. So, 
 this has installed or added the 
 components. So let's u go into the HTML 
 dialog and there we're going to set the 
 type. So I'm just going to pass a type 
 here and there we're going to get open 
 title 
 uh team select team style 
 and open change and then the HTML 
 content. 
 So we can get the full HTML. We say full 
 HTML is equals to get 
 HTML wrapper. We pass in the HTML pass 
 in the title and then we pass in the 
 team style 
 like this. So yeah, let's remove this 
 div and then let's um 
 get the dialogue from UI dialogue. Let's 
 pass in um open equals to open 
 on open change 
 on open change 
 and let's say dialog 
 dialog content on UI dialog. Let's give 
 this a class name of W for 
 a small or maximum width 
 7 XL 
 and then we can give this height of 90 
 VH. 
 So inside the dialog content we have 
 dialog header. So let's import dialog 
 header. 
 Inside here we can import the dialog 
 title 
 from UI dialogue 
 and then we can pass in the title 
 like this. 
 I can set this to on title 
 or like this. 
 Then we have the div 
 class name 
 relative 
 wait for hyo 
 overflow 
 um overflow y auto 
 let's say if 
 and let's import the code block 
 from ai 
 um where is 
 So I'm going to just return it like 
 this. Open dialog passes here. And then 
 let's pass in the class name 
 with full it's auto 
 code 
 to pass in the full uh HTML 
 language HTML 
 and then show uh line numbers and then 
 we can pass in the copy button. So code 
 block copy let's import that. 
 Now we are done with this. So we can 
 just set this to use client too 
 like this. So let's go into canvas and 
 let's import this. They say this is 
 undefined 
 empty string like this. 
 So this is fine. So we're going to pass 
 in the set handle dialog inside the pass 
 it in the device frame. So I'll scroll 
 down to where we have device frame here 
 and let's pass it here. So let's just 
 create a method here 
 open HTML dialog. So copy this and 
 scroll down to where we have the device 
 frame. Mass it here 
 by this. 
 Let's also pass it here too. 
 So let's go into the device frame and 
 then let's uh type I'm going to pass 
 this here 
 like this. 
 So let's also get it here and then 
 inside the um canvas I mean the device 
 frame to bar you can pass it here. 
 open HTML dialog. 
 Now I think this is complete. 
 So invoice uh uh sorry the um canvas 
 frame. So I'm just going to scroll down 
 and let's test this out. So I'm just 
 going to copy the uh demo HTML and just 
 pass this here if it's empty for now. 
 And let's test this out. So make sure 
 the server is running. 
 Now we can see that this is working and 
 you can see that it's taking the width 
 of the height of the content. So you can 
 move it. You can see drag it up like 
 this. But if you reload this is going to 
 take the width of the content. And then 
 uh this is moving the same way. And if I 
 click on this dialog icon, you should be 
 able to see uh the the HTML content. So 
 it's moving. You can see everything is 
 moving. Everything is working fine. You 
 can click here to to copy the HTML 
 content. 
 So uh this is working fine. Uh we can 
 change the team 
 and we can see 
 everything is working fine. So we can 
 see the team is working fine. We can 
 switch team and everything is working 
 perfectly well. So let's go ahead and 
 work on the uh configure and set up in 
 justest to handle the generation the AI 
 generation. So I will just go back to 
 the home screen. 
 So when the user type in a prompt here 
 we trigger the background service to 
 generate the um to handle the generation 
 the AI generation. So we're going to go 
 ahead and set up inest. Ingest is a 
 platform that offers background jobs and 
 workflow. So it let us to run async task 
 or tax without blocking the application 
 for the user. So we're going to be using 
 inest to handle our AI generation. So 
 when user type in a prompt the user the 
 AI generation will be handled with 
 inest. So let's go ahead and make sure 
 to sign up. So once you click here to 
 sign up already sign up already. So 
 you're going to be brought to this page 
 to create an organization. So I'm going 
 to just fill in my uh name and also uh 
 this log. Then click on create 
 organization. So let me just change 
 this. 
 So I'll click on create organization 
 and this should create the account for 
 me. So I'm just going to skip this. 
 And here you can see um we've created 
 our inest app. So I say okay I already 
 have an inest app. You can use this. So 
 I'm just okay you can use this command 
 to set up inest um startup inest service 
 in your local machine. But the first 
 thing we're going to look at here is 
 run. So in the run section, this is 
 where we're going to see when we trigger 
 u the inest function. We're going to be 
 able to track each of the run here. Then 
 we have the events and then we have um 
 the function. So when we write the inest 
 function, we are going to see um list of 
 them here. So what we going to do now is 
 to go to the documentation. So I'll just 
 come over open a new tab here and I'm 
 going to search for inest 
 in 
 nextJS 
 like this and then you should be able to 
 see the documentation. So you just click 
 on the code start with nextj 
 and then we can scroll down and we 
 should select app router. Now the first 
 thing we're going to do is to install 
 inest. So just copy this and let's go to 
 the uh code editor and um let's install 
 this. Let's install inest. I'm going to 
 open a new terminal 
 and I'm going to paste this here. So 
 this is going to install inest uh into 
 our code. So let's wait for this to 
 install. 
 So while this is installing, let's go 
 over to the browser and let's look at 
 through the documentation. So um yeah, 
 we can see that we want the inest desk 
 server. We're going to copy this. So now 
 we're going to leave this for now. So 
 let's go down to how to write the inest 
 setup inest. So the first thing we're 
 going to do is to create inest client. 
 So we are going to have we're going to 
 create the inest API. So the first thing 
 is to create the inest client. So we're 
 going to create a folder called ingest 
 and then create a client client.tx. So 
 let's copy this and let's go back to the 
 code and create that. Then after that 
 we're going to create the API route as 
 mentioned there inside the API app/ API 
 folder. So let's just go back to the 
 code 
 and we should make sure this is already 
 installed. So let's create a folder 
 here. So I'm going to create in the app 
 in the root directory 
 and just like this or we can move it 
 inside the le folder. 
 So I'm just going to create 
 client 
 tx here and we're going to just paste 
 this here. So now uh we can give this a 
 name. So I'll just say x design 
 app like this. So let's go over to the 
 browser to the documentation and then we 
 should copy this. So let's copy this and 
 let's go back to the code and let's 
 create the API route for inest. So go 
 into API folder then let's create inest 
 and then route 
 cx 
 and let's paste this here. 
 So now we need to point to where the 
 inest and client is. So I'm going to say 
 uh slash 
 sorry 
 I think by by this index client. Okay I 
 think it was correct. So we're going to 
 pass in the function once we write the 
 function. So let's go back to the code 
 and copy example of a function. So I'll 
 go back and then scroll down to where we 
 have write your first inest function. So 
 we're going to use create function. This 
 is an example of inest function. So 
 we're going to create function txs. So 
 just copy this and then let's go back to 
 the code 
 and then let's scroll down to. So I'm 
 going to create a folder 
 and call this functions here. So we can 
 have list of functions. So let's create 
 hello world function. 
 Hello world 
 tx. 
 And let's paste this like this. So now 
 I'm just going to move this up like 
 this. We have the inest create function. 
 And then this is the ID of the function. 
 We also have event name and then we have 
 the method that like gives us the event 
 and step. So this step just sleep 
 tells us to wait for some seconds before 
 running this. So we're going to look at 
 how to do this. So let's go ahead and 
 test it out. So let's just first of all 
 go to the documentation 
 and then let's scroll down. Then we need 
 to pass the function inside the index 
 route. So just copy the htm hello world 
 in interest function and let's go to the 
 route which we created and let's pass in 
 the function here. So let's import this 
 and then let's go back to the 
 documentation again 
 and let's scroll down. Now we need to we 
 need to run the server so we can test it 
 out. So let's just go up where we had 
 the to run the dev server. So this is 
 it. So copy this and let's go to 
 um to the code editor. Open the 
 terminal. Make sure uh your server is 
 running here. You can open a new 
 terminal and paste this here and click 
 on enter. So this is going to run in 
 your server and then it's going to give 
 us a local a domain a local do. Let's 
 click on yes. Type in yes. 
 It's going to give us a local route. So, 
 we're going to test this on the browser. 
 So, the engine server is running. So, 
 it's running at local 8288. So just copy 
 this and let's go back to uh the browser 
 and then I'll just open 
 I'll open a new tab. 
 Let's let me just open this tab here and 
 paste this. So I'll close this. 
 Now I'm going to paste this and click on 
 enter. Then this should open the same 
 interface we have here we have in the 
 inest app. So well this is this is um 
 the local host. So um we have the run we 
 have the same event but here if you 
 click on the function 
 we should be able to see okay I think 
 we're not able to see the functions. 
 So I think we have some issues. So let's 
 go back to the code. I think I need to 
 scroll down to where we have the 
 middleware the proc.tx. 
 So I'm going to uh tell and kindle to 
 kind to exclude this uh ingest API. So I 
 say API/ingest 
 just like this 
 inest. 
 Then save this. I think this should 
 uh this should remove the stop the uh 
 from blocking the interest API. 
 So now let's try to reload. 
 We're not seeing the inest function yet. 
 So let's go back to the code again. 
 So I think everything should work. So 
 let's just go back again and test it 
 out. So let's go to the browser. 
 And it has showed up here. So you can 
 see that it's working. So if I reload 
 now, we should see the inest function 
 which we created. Now to invoke this 
 function to start running, we can click 
 on this invoke. 
 And once you click on this invoke, you 
 can click on okay. You can pass in data 
 if you want. Just click on invoke 
 function. And then if you take us to the 
 run section, then you can see that it is 
 running. And you can see that we've 
 triggered the function. So once we click 
 on this, you should see that uh it has 
 completed already. We have the wait a 
 moment. Uh then we have the finalization 
 and then we can see 
 the hello@gmail.com 
 like this. Let's go to the function 
 again. Let's try to invoke. We can 
 change the pass a different data. I'll 
 just say um 
 hello 
 by this 
 like this. So I change it to hello. 
 Hello. And if I click on uh invoke u 
 function then you can see that this is 
 going to run this. And then the last uh 
 finalization we can see uh okay because 
 we change this to 
 we should be able to see this here. 
 Okay. Oh yeah we can see hello here. 
 Right. So this is 
 this is working. 
 So it's working. So the reason why we 
 have undefined is because we we inside 
 the inest function. If you go back to 
 the inest function, we should see we are 
 pointing events data. 
 But if we set this to hello like this 
 and if we head back to the code and try 
 to try to run this again if I click on 
 this and click on invoke now this should 
 run and it should complete finalize and 
 then we can see hello hello. So this is 
 working. So let's go ahead and create uh 
 let's go ahead and create the inest 
 function for generation. So I'll just go 
 back to 
 uh the code 
 and then let's create a function. We 
 call this generate 
 uh screen 
 cx. 
 So let's copy the same thing we have 
 here. So I'll copy this. Come over to 
 generate screen and paste this here. So 
 I'm going to change this to generate 
 generate screen 
 function 
 and then we can give this an ID. So I'll 
 just call this and generate 
 UI screen 
 and then we can give this an event name. 
 We can say generate 
 the screen 
 UI like this. 
 So now we have the we can remove this. 
 So we need to get the data. So we need 
 to get the data from the event. So we're 
 going to send couple of um data. We're 
 going to send uh which is going to be 
 equals to events do data structure this. 
 We're going to send the user ID. 
 Sorry, the user ID. 
 Then we're also going to pass in the 
 project ID. We're going to pass in the 
 prompt of the user. And then we're going 
 to pass in the frames. 
 And then we're going to also pass in uh 
 the team which is the existing team. 
 So the reason we are passing the team 
 and the fra frame is because uh we are 
 going to need this when we try to 
 regenerate 
 like um if we go into the uh canvas 
 here. So let's go into components canvas 
 and comp canvas floating tub 
 sorry we have remember we have this um 
 prompt impute here. So inside the canvas 
 users can type in and generate a new 
 screen. So we need to give the user the 
 AI a context of what other screen or 
 frame it has created before so that it 
 can use those same context and generate 
 a new screen. So that is it. We're going 
 to do that. So now 
 we are going to say constant is 
 regenerating 
 or yeah regeneration. So we're going to 
 make sure to confirm if we are 
 regenerating or is a new generation. So 
 we're going to say a frame 
 length 
 is greater than zero. 
 So uh the next thing we going to do now 
 is to perform different step. So we're 
 going to run different step. So this 
 step is going to help us to run um to 
 run the tax in different complex tasks 
 into different smaller uh tasks. So 
 we're going to first of all the first 
 thing we're going to do is to is to um 
 so when the user type in a prompt we 
 want to first of all analyze the prompt 
 and then the AI is going to generate the 
 number of screens which we're going to 
 generate. So I'm going to say analyze 
 analyze the um the prompt or we can say 
 analyze or plan. 
 We can call this planning mode. So we're 
 going to use the step. We're going to 
 say constant analysis 
 is equals to a step 
 dot. You can see we have different 
 options here. So we're going to use run 
 and then we're going to give this one a 
 name. So we're going to say analyze 
 analyze and plan screen. 
 And then this is going to return uh a 
 function. 
 And then here we are going to write in 
 the uh we're going to call the API the 
 AI sorry the AI to uh generate the 
 screens and also the visual description. 
 Then once we did do that we're going to 
 then copy this again and we're going to 
 paste this here. 
 So this is going to this is going to 
 handle the actual generation here of 
 each screen. 
 So let me comment this out. This is 
 going to uh 
 the actual 
 generation 
 of each uh screens 
 that we got from the analysis. Then 
 after we do that we are going to run the 
 last step 
 uh which is we are going so I think 
 we're not going to run any other step. 
 It's only two step we have here. we have 
 the uh analysis or planning mode. Then 
 we have the actual generations. So 
 inside here we're going to be using the 
 AI SDK and we're going to be using AI 
 SDK the object uh generate object. So uh 
 let's just go and look at that in the 
 documentation. 
 So if I go over, let me open this and 
 then go to AI SDK 
 generate object 
 and you click on this 
 and then you should see the example of 
 how to use AI SDK generation object. So 
 we're going to be using Z to pass in the 
 schema which is the output schema and 
 then the user we're going to pass in 
 user prompt. Here we can get it the data 
 in form of JSON. So we can use AI 
 gateway but we already have open router. 
 So I'm going to test with open router 
 but I'm going to surely use AI SDK. So 
 uh I mean AI gateway because I have some 
 credit already. So if I go to 
 uh dashboard 
 su if I click on AI gateway here 
 you can see that I have some credit here 
 and you can click here to buy um credit 
 if you want 
 or you can just stick to open router. 
 So, let's just go ahead and write the 
 the schema and also the uh 
 and also the 
 generate object. So, I'll just go to the 
 code 
 and then let's first of all write so 
 I'll put in the schema here. So, I'm 
 going to paste it. So, let me first of 
 all import Z 
 from Z 
 Okay, we need to install Z. So, I'll 
 cancel my server here 
 and I'm going to say mpm install Z. 
 So, let's wait for this to install. So, 
 this has installed. So, I'm going to 
 just import S here. 
 And let me make sure my server is 
 running. 
 And then I'm going to paste the uh 
 schema. I've written it already. 
 So this is a schema, the analysis 
 schema. We have the team. So you can 
 copy that from the canopy from the 
 GitHub. So um the AI is going to select 
 the team. It's going to pick the team 
 from the team list. If you go to teams, 
 so it's going to pick the team from the 
 team list, out of the team list we have. 
 Then u it's going to give us an array of 
 on the screen. And then we're going to 
 have the ID of the screen, a unique ID, 
 the name, the purpose, and the visual 
 description. And this is like a sample 
 uh a sample of how description is going 
 to look like. And with this now, we can 
 use this to feed into the AI so the AI 
 knows what to give us as output. So I'll 
 go into the action 
 action.x the X. And I'm going to just 
 copy this open router because we're 
 going to need this. 
 Uh let's just copy everything like this. 
 And let me go back to generation 
 function. And then inside the uh inside 
 the analysis, we are going to paste this 
 here. 
 But instead of generate um text, we're 
 going to use generate objects. 
 Uh let me save this. So here I'm going 
 to say object 
 and we need to pass in the schema here. 
 So it's a schema 
 analysis 
 schema like this. So let's import open 
 router 
 sorry open router from um lib open 
 router 
 and I think uh this is it. 
 So since we are going to handle for both 
 um the regeneration 
 and also the actual new generation we 
 are going to u we going to check 
 constant analysis prompts. So we're 
 going to change pass the analysis 
 prompts here. Say analysis prompts which 
 is a user pro going to say if is 
 generation 
 then we going to pass in this. So I'm 
 just going to um just paste this here. 
 So we are going to pass in the user 
 request which is a prompt selected team 
 existing team. Then we have to pass in 
 the context HTML. But since um we are 
 and this is a new generation we are 
 going to say user request and pass in 
 the prompt. So we need to get the 
 context. So I'm going to say constant 
 context HTML. So just copy this 
 paste it here. And then we're going to 
 say u is regeneration. 
 Then we can say frame. 
 So we're going to get and slice 
 of minimum. Let's get three or four. 
 Then we're going to map 
 the frames. It's a frame is of type 
 frame 
 type. 
 And then we're going to say frame dot 
 HTML content. 
 And then I say does join 
 you like this. So say else empty string 
 like this 
 just like this or there's no even need 
 of using the is generation since it's 
 going to be used for only uh is gener 
 regeneration. 
 So with this we can then use the analyis 
 prompt and pass it here 
 just like this. So now we need to define 
 the system um prompt. So I have the 
 system prompt already in the GitHub. So 
 I'm going to create a a prompt file 
 here. So say prompt 
 tx here. So I'm going to paste all the 
 prompt both the prompt for analysis and 
 the prompt for individual for the 
 generation. So I'm going to paste all 
 the prompts here. So let me scroll up so 
 we can look at it from the beginning. So 
 the first prompt is a generate prompt. 
 So I'll just change this to teams. 
 So the first one we have is generation 
 system prompt. So we have the prompt to 
 say you s um design AI critical output 
 result. So we're using um u for the 
 avatar we're telling AI to use the 
 the avatar CC which is a generation 
 random um avatar. So it's going to use 
 them. We also have 
 time to also use um to not select images 
 or or splash and link. Then we also have 
 critical override color priority. So 
 we're going to be feeding this with 
 colors. So like the team we mentioned is 
 going to be using the team. So we also 
 have integrates the technique together 
 soft place and then we have the layout 
 we have mobile app structure bottom 
 navigation if needed the chat and if I 
 scroll down then we have bottom nav 
 navigation then we have the uh no 
 navigation on splash on boarding screen 
 or screen then we see that we loop 
 through the uh the team list 
 and then we pass it into the analysis. 
 Now we can see the analysis point UI 
 lead UIX mobile app designer. So if user 
 based on user request if one specify 
 screen is screen with the ID name 
 propose and visual description then if 
 uh look we pass in the bottom rules 
 inside the analysis prompt then we give 
 it an example of a good visuals. 
 Then we also have special the available 
 theme 
 um style and we have the available font 
 and variable. So this is the point. Now 
 we can use this inside the generation 
 screen function. So I'll just copy this 
 and then I'll head back into generation 
 screen. Then I'll replace this with it. 
 So let's import 
 uh this. 
 Now we've uh now we can use the object. 
 We can return the object. So I just say 
 return 
 uh I'm going to destructure the object 
 here. 
 So I also want to pass the uh the team. 
 So I can say uh team use. 
 Okay, what I'm going to do here, I'm 
 going to say okay, so I'm going to say 
 constance 
 um 
 team 
 to use is equals to if is regeneration. 
 Then we're going to pass in the existing 
 team. Um this we passed in here. 
 Then we are going to use the new team 
 selected by the AI. 
 And then let's just pass in 
 use like this. 
 We can set 
 let's just like this. Now we need to 
 we need to also update the uh project. 
 If you look at the um Prisma schema, 
 we have the team. So we're going to 
 update the team. So if it's not 
 regeneration we need to we need to 
 update the project uh with the team. So 
 say if not is regeneration 
 then I wait Prisma. 
 So import Prisma from 
 let me import that here. 
 import Prisma 
 from at lib 
 / Prisma. 
 So press at Prisma Prisma.date. 
 So we're going to update where 
 um ID is project ID. 
 User ID is user 
 ID. 
 Then pass in the data 
 team 
 to use like this. So now we we are done 
 with the analysis step. So now this is 
 going to run first and if there's any 
 issue we can retry it. Then once it is 
 done we can get the output from here. 
 Now if you hover over this we can see 
 the team screen and team to use. 
 Then we are going to uh we're going to 
 implement the the next step which is to 
 generate each of the screen. We can see 
 that the screen is an array of objects. 
 So we're going to loop through the 
 screens and then generate a screen. So 
 I'm going to do that here. So let me 
 remove this. 
 Let's remove this. 
 So we're going to use for loop here. 
 We're going to say let I is equals to 
 zero. Then I is less than 
 analytics.length 
 length 
 then I ++ like this 
 and then we can say constant screen plan 
 is equals to analytics 
 sorry analytics screen and with the 
 index I mean with the I then we are 
 going to get the team So say selected 
 selected team 
 um is equals to team 
 do find 
 pass in the team 
 say team do ID is equals to 
 um analytics 
 analytics dot we can use theme to use 
 like this. And then now we can combine 
 the uh team 
 the team style with the sorry the team 
 sty 
 plus the base variable. 
 So let's just do that. So here I'm going 
 to say full team. Let's import the base 
 variable. 
 We have the full scene selected sty and 
 empty string if if we have no or 
 undefined. Now we need to generate this. 
 We need to use uh the step say await 
 step 
 run. 
 And then we're going to give this a 
 name. Generate screen 
 dollar sign. 
 And then let's return a function. 
 And then inside here we going to do the 
 same to we have here. 
 Let me just copy this. 
 But this time we are going to be using 
 uh we going to be using generate text 
 instead of generate object. 
 So I'm just going to remove this. Then 
 I'm going to say generate text by this. 
 So let's import generate text from AI. 
 And this will not um use schema. So we 
 going to also add the prompt there. 
 And there we're going to import the 
 generate 
 system 
 like this. So this is going to be using 
 two. So I'm going to add in a splash on 
 splash tool so the AI can access images. 
 So we're going to add tools here. 
 And this is also going to have stop one. 
 Sorry, stop count 
 five 
 like this. So, let me add comma here. 
 So, since we adding twos here, we want 
 to allow the AI to to loop through to 
 keep on retrying, we run till it give us 
 the final answer and we're giving it a 
 maximum limit to five. So I'm going to 
 pass in the um prompt here with the 
 screen from the screen plan that we can 
 get the screen ID name and um propose 
 with also the visual description. So I'm 
 going to paste that here. You can also 
 copy that from the GitHub. So I've 
 pasted it. Now we can see we have the 
 screen and the screen the screen and 
 screen purpose visual description and 
 also the team style. Then we have the 
 critical requirements some other small 
 requirements we we call the AI to look 
 out for. And once this is done we can 
 extract the uh the HTML from the 
 response because this is going to also 
 have like a two-step object. So we need 
 to really get the HTML content from the 
 string. So I'll just say let final 
 HTML is equals to wiz 
 text like this inside empty string like 
 this then we can match we going to use a 
 regular uh we're going to match from the 
 div where we have the div and then we 
 can get the match then we say final HTML 
 is equals to match 
 then we say match 
 index of zero else final HTML like this. 
 So if we're able to match this then we 
 can see final HTML is equals to final 
 HTML replace 
 then we're going to slash and then we're 
 going to pass in three slash key and 
 then add comma and empty string like 
 this. So we're going to replace we're 
 going to remove this embed from the uh 
 from the HTML string and once that is 
 done then we can create the frame each 
 of the frame we can create a frame. So 
 say constant frame 
 is equals to await prisma 
 dot frame dot create 
 data 
 pass in a project ID 
 to 
 screen plan name 
 and then we pass in the HTML content 
 final HTML 
 and then 
 think that is it then we can return 
 this. So let's just return 
 sorry return 
 success true 
 we can pass in frame 
 uh frame 
 by this. 
 So we are done with all this step. So if 
 I collapse this this is it. 
 So let's go and then write the a tool 
 for the onsplash. So I will just create 
 a file inside the 
 uh interest function. So I'll just say 
 totx 
 here 
 and to create two we can look at a SDK 
 or let's just do that here first. So I'm 
 going to import two from AI 
 export constant 
 on splash 
 two 
 is equals to two 
 and this is going to have description 
 and we're going to also import sword. 
 We're going to pass in description. 
 We're going to also pass in the MP 
 schema which is set s object 
 query 
 and this is going to be set dot screen 
 describe. 
 We are going to also have orient 
 orientation 
 setscape 
 postrit. 
 And the last one 
 like this. Then we're going to set the 
 default 
 to landscape. 
 So I'm going to also provide the 
 description and also the describe for 
 this. And um I think we are done with 
 this step. Now we need to execute define 
 execute 
 like this async 
 and let's return a function here. Now we 
 can get the impute schema here. We can 
 get query and 
 orientation. 
 So now we have try catch here. So let's 
 first of all go and u get the unsplash 
 API key or access key. So make sure the 
 server is running. Let's go to the 
 browser 
 and then I'm going to 
 put search. Just search for onsplash API 
 key and once you search for this click 
 on this link it should take you to this 
 page. Now if you see developers now we 
 can see how to use uh splash. You can 
 see just scroll down you can look at the 
 documentation 
 uh like this. So let me uh scroll up. 
 Click on the top corner here to sign up. 
 So I already signed up already. I can 
 view my profile and all this. So, I'm 
 just going to click on account setting. 
 Uh, sorry, not account setting. Once you 
 create your account, you should click on 
 uh app. It's going to ask you to create 
 a new app. So, I've already created app. 
 So, I just click on Facebook new app. 
 Just accept 
 uh 
 all of this. Then 
 click on acceptance. Give this a name. I 
 say X design 
 and let's click on create. It's going to 
 ask me. So I'm just going to say X 
 design AI for mobile 
 design. Simp click on create app 
 and then this should create the app. You 
 can scroll down to AP um access key. 
 Just copy this. We just need this. So 
 once you copy this, let's just go to the 
 code and going to your env. 
 I'm going to just paste it on splash 
 access key. 
 Go back to the documentation on splash 
 and let's see how this work. If we go to 
 scroll down, let's go to click on 
 documentation and then scroll down 
 first. You can see how to authenticate. 
 If you scroll down to the bottom, 
 um yeah, you can see we have to we can 
 pass in a client ID with the access key. 
 So this is a public authentication. 
 Then uh if you scroll up, then we can 
 click on search photo by keyword. Then 
 once we scroll, we can see we add query 
 in the uh two schema. Then schema in the 
 onlash two. Then we also have the 
 rotation and you can see that we you can 
 filter by landscape, portrait and the 
 last one. Then once we So that is all. 
 Let's just go back and complete that. So 
 I'm just going to go back to the code 
 and then let's go to the two.x 
 and then we can use this inside the uh 
 Unsplash tool. So I've pasted a 
 description. We can see we have search 
 for high quality images from Unsplash 
 and use this when you need to add in 
 image tag. Then we also have the 
 describe for the query. Then we also 
 have so I'm going to also pass the um 
 API which I've copied from the 
 documentation. So I'm just going to 
 paste it here so we can look at it. So 
 here we can see that we have the on API 
 search photos query. We encode 
 components query. Then we pass in the 
 page one. Then we have client ID 
 processor or API key. So make sure it's 
 similar to what we pass in here. Assess 
 key. So let's go back to the tool. So if 
 you have written this just let's get the 
 result. So say this is going to be 
 equals to await response to JSON. 
 And let's get the results here. 
 So inside there 
 and there we're going to say return 
 result. 
 We get the first index here 
 dot 
 regular 
 else empty string 
 and then we can just return empty string 
 like this here if there's any error. So 
 I'm just going to remove this error like 
 this. So we can use this inside the uh 
 generate screen. 
 So inside here, so we're going to just 
 call this search onsplash and I'm going 
 to just import the onslash to. So we are 
 done with this. Now we can use this same 
 generation screen 
 generation screen. We can use this for 
 this to be screens. 
 So I'll change this to screen. 
 So we can use this both for new 
 generation and for new project 
 generation and also for existing uh 
 projects. So this can be referred to as 
 existing generation regeneration. 
 So I'll just leave it like this and then 
 let's just add this um generate screen 
 in the uh inest 
 route. So I'll just say route x forest. 
 You can pass this here now. So let's 
 just import this. 
 So now how do we trigger this uh 
 generate screen inside the API? So if I 
 go into uh API 
 project 
 route, 
 if I collapse this, then the post So 
 once a user type in a prompt we create 
 the project of the user we create a 
 project for the user then we have to 
 trigger the inest function which is the 
 generate screen. So um let's go to the 
 documentation to see how this is done. 
 So if you go over to u 
 the ines for next year. So I think I've 
 closed that. So let me just search for 
 it again 
 next year documentation. Then click on 
 this. Now if you scroll down to the 
 bottom 
 scroll down 
 now we can see trigger from code. We can 
 see that if you go down here 
 this is how to trigger. We're going to 
 use the send function. 
 So we're going to just copy that 
 and we're going to pass in the payload. 
 So we can use this. So if you go back to 
 the code and let's come over here and 
 paste it here. 
 So let's import inest from client. 
 Now we can just change this to use the 
 name that is the event name. So I just 
 copy this event. 
 go back into project / project 
 and then I'm going to change this here. 
 So we're going to pass in the data. If 
 we go into generate screen, you can see 
 that we have the user ID um prompt frame 
 and then team existing team. So I'll go 
 into route and then let's pass in the uh 
 user ID. I think user ID is the first 
 user ID, project ID, and then prompt 
 just like this. So I'm just going to 
 make sure I wrap this inside try catch. 
 So just return error 
 console.load error 
 like this. So make sure everything is 
 correct. Make sure the inest name is 
 correct with the event name here. 
 So I think uh that is all. So let's make 
 sure our server is running and also the 
 inest server is running. So if we go 
 back to the browser 
 and if we check this inside the inest 
 not this one. So if I reload this if I 
 go back to function now we can see 
 generate UI screens. So you can trigger 
 this here by providing the data but 
 we're not going to do that from here. So 
 I'm going to load my uh local host and 
 3000. So I've load my my local 3000. So 
 I'll go back to the home screen. 
 Let me go back to the home screen. Now, 
 let me let me type in a P. So, I just 
 say uh design a blackness screen. Uh 
 let's just keep this. It says simple P. 
 So, let's pick 
 uh tracker app screen. 
 So, hopefully this should work. So let's 
 just click on uh just click anyone from 
 the uh suggestion and let's click on 
 design and let's see. 
 So this is the old demo screen. So this 
 is not needed. We should go to inest 
 here and see if this is running. We can 
 see that this is running 
 now. Why is it not working? 
 Okay. Cannot read. So we have some error 
 here. 
 We have some error. So let's just cancel 
 this. 
 Uh undefined length can be property of 
 undefined l. 
 So I think it's coming from 
 I think it's coming from the 
 so I think uh let's let's check if this 
 is an array first. So I say um array 
 array frame frames then we can do this 
 then we can use this here. So just 
 remove all of this then we can check 
 this if this 
 if is generation 
 then we can say empty string like this 
 or should we change this to if uh 
 existing generation 
 let's change it to existing 
 existing generation 
 if is existing 
 existing generation like this 
 like this 
 then pass this here 
 if it's existing generation I'll pass in 
 this so this should uh this should not 
 throw an error 
 so let's try it out again make sure the 
 server is running 
 and let's go back to the browser. 
 So I'll just quickly go back to 
 the then I'm going to click the same 
 prompt again then click on send and this 
 should redirect us to this page. 
 So let's click yeah let's click on 
 running. Now we can see analyze prompts. 
 You can see that it has analyzed the 
 prompts. It has given us the ID, name, 
 purpose, visual description. 
 Um, let's wait for this to complete. 
 So, I think it's done. You can see the 
 HTML content. You can see I the project 
 I title. It has saved the project, the 
 frame. So, now if I go back here and 
 reload this, 
 something is wrong. We can't see the 
 frame. 
 So I think it's because of 
 So let's go back to the code. 
 Let's go to the context uh canvas 
 context. 
 I think it's because of this. This is 
 not updating. 
 So let me try and use use effect again. 
 I don't know why it's not working. 
 Use ephs. 
 Let me import this. 
 Set initial 
 a set frame. 
 If 
 So this keep on showing some error here. 
 So if I hover over this, you can see 
 that React is saying that we can use 
 this in the use effect and it has point 
 us to a to a link here to the 
 documentation. So you go to this link. 
 So I'm just going to go to the link. 
 I've copied it and I've past it in the 
 browser. So once you come over here you 
 can see you can read through this and 
 see where we don't need to use this 
 effect. So we recommend we don't need to 
 use this effect uh inside that uh inside 
 the context we have there. So um you 
 have some examples here or if I click on 
 adjusting some states when a prop 
 changes 
 and if I scroll down to uh think here 
 let me search for it previous. 
 So yeah if you come over to this place 
 just scroll down to adjusting some prop 
 here below here you can see how we say 
 adjust the state by reving. So we can 
 use this uh the previous state then we 
 can check if item is not equals to 
 previous state then we can say set 
 previous item and set 
 selection. So no need for use effect for 
 this. I'm going to use this um u way and 
 handle this. So I'm going to go back to 
 the code and I'm going to remove this um 
 use. So since u we are tracking with the 
 we have the we have passed in the 
 project ID. So we're going to make use 
 of project ID change um change. So I'm 
 going to uh then if you go into the page 
 ntx you can see that I pass in project 
 ID here. So if I go over back to the uh 
 the canvas um provider here if I come 
 down to here. 
 So once u the user once we reload the 
 page or navigate to the project uh 
 project ID page. So what we going to do? 
 We're going to have the previous state 
 the same way we saw in documentation. So 
 I'm just going to paste it here. So we 
 have the previous project ID and set 
 previous project ID. Then we pass in the 
 project ID. Now we say project ID which 
 is this. It's not equals to project ID. 
 Then we set uh previous project ID. Then 
 we set the frame. Then we set uh team 
 ID. And if there's no team ID, we just 
 set team uh index 
 um zero and ID. Then we can just reset 
 the uh the frame ID too. So now this 
 should hopefully this should work. So 
 let's save this and let's go back to uh 
 the code and I mean so to the browser. 
 So just click on this and let me try and 
 reload. Now 
 if I reload this, this should load and 
 then you can see that it has updates the 
 team 
 uh the team and also this is the design 
 here. So I'm going to remove this demo 
 screen which is not needed. So we can 
 see uh the AI was able to generate the 
 screen for us here. This is not that 
 good like that but we are going to 
 change the model to uh use Gemini 3. So 
 we're going to look at that. We're going 
 to change that to use Gemini 3 which is 
 better which can generate something like 
 this. So what we are going to do now is 
 when users generate 
 um type in a prompt we need to be able 
 to track the uh status of the 
 generation. So we're going to be using 
 inest real time. So inest also has what 
 we call inest time. So if I go back to 
 inest documentation 
 uh then I'll go back to 
 let me scroll down or let me search for 
 this. I'll say inest 
 real time. 
 So if I click on real time in real time 
 uh if we scroll down now we can see how 
 to add it. So we can install inest real 
 time. Then we can update the inest 
 function the client uh client.tx. We can 
 add in the middleware real time 
 middleware. Then then we can do this 
 like this. We can use the publish now. 
 So we can get the publish from inside 
 the inest function. Then we can publish 
 uh events. Then we can listen to we can 
 subscribe or listen to using the uh I 
 think events. 
 No, not this. We're going to be using 
 the hook the use in subscribe hook. 
 We're going to be using this to keep 
 track of different events being sent to 
 from the um inest function to the uh 
 client side. So let's install this real 
 time. 
 So, copy this and let's go back to the 
 code and let's install this. 
 So, I'm just going to cancel my server 
 and I'm going to just paste this here 
 and click on enter. So, this is going to 
 install. 
 So, let's go and copy 
 uh let's go and copy the other step 
 which is to add the middleware. So I'm 
 going to just copy everything here and 
 I'll go back to 
 the code. So this has already installed. 
 So I'll just run my server and then I'll 
 go into the client in cx here. 
 So we just need only this. I'm just 
 going to move this to the top 
 and the middleware. So I'll just remove 
 this. 
 then I'll just pass it here like this. 
 So after this now let's go back to the 
 documentation 
 and then we can scroll down. 
 Think it say we can create an API. 
 Okay we're going to create the 
 subscription token. So we're going to 
 create action app action subscribe 
 token. You can call this real time. So, 
 let's just copy all of this. Uh, we can 
 copy this. And let's go back to the 
 code. 
 So, I'm going to create um 
 inside the action. So, I'll create real 
 time. 
 CX. So, you can call it get 
 then we can change this to use server. 
 So, I'm going to close this and paste. 
 So let me paste it here. 
 So let's just remove this. 
 So I remove all of this. 
 Remove this. 
 So let's go into 
 um the API routes 
 project. And let's just copy this. 
 Let me copy this from kind. And then I'm 
 going to go into real time.tx 
 inside the action folder. And I'm going 
 to replace this with 
 this like. 
 So I'm going to just import this. 
 So let me just import this. 
 So I'm going to remove 
 this like this. So I'm going to change 
 this to user 
 ID. 
 So now when we define the topic, we 
 going to come over here and pass the 
 topics here. 
 So now we have this. 
 Now let's go and uh implement the uh to 
 publish the 
 um events and then we're going to come 
 back into the um context the canvas 
 context to listen to um the event. So 
 I'm just going to go back to generation 
 function 
 and then the first thing we're going to 
 do is once we once we uh trigger the 
 function we are going to publish. So 
 let's get a publish here. 
 So we're going to publish the events and 
 tell the client that it has started to 
 run. Then we're going to show running. 
 So if you remember in the canvas context 
 we have different loading status here 
 which I have defined here. 
 So we have one analyzing generating and 
 completed. So we're going to be sending 
 out these um different events to the uh 
 to the client side. So I'm going to go 
 back to generation function. So we need 
 to define the channel which we are going 
 to be sending this. So if I go back, so 
 let me just define this. If we go back 
 to the documentation, let's look at that 
 documentation. We can see how it was 
 defined here. If I scroll up here, 
 right? So scroll up, we can see we have 
 a channel which is pointing to user and 
 the user ID. So we can just define that 
 too. And then you can see the topic 
 here. And then we have to pass in the 
 data. So let's just go back 
 to the code and then I'm going to define 
 the uh channel here. So let me just 
 define I'm going to say channel is 
 equals to user and user ID which we pass 
 from there. Now the first event we're 
 going to send we're going to say our 
 publish 
 say channel 
 then the channel 
 so we're going to set a new topic which 
 is going to tell uh the client that 
 generation has started I'll say 
 generations start 
 and we're going to pass in the data 
 status is 
 running. 
 Then I also want to pass in the project 
 ID 
 like this. So this is the first event 
 I'll be sent to the client side. So we 
 can copy this now and I'm going to paste 
 another one here. 
 So I'm going to change this to analyzing 
 or an analysis. Sorry. analysis 
 start. I'm going to change this to 
 analyzing here. 
 So this should be similar to what we 
 have in the context 
 a context loading status type. So we 
 have analyzing we have running. 
 So just pass that here. 
 Now we need to also pass this once the 
 um once we generation has complete. So I 
 will just do that below here. So let's 
 paste that here. Now we can change this 
 to um complete. 
 Now we're going to pass in generation 
 generating 
 what we have. So that's what we have 
 inside the context generating. 
 So let's change the status to 
 generating. Then we can pass in the 
 project. So we need to pass in the total 
 screen 
 which is going to be object 
 object dots screen 
 dot length. So this is going to 
 determine the number of device scen 
 we're going to display on the canvas. 
 Then we need to also pass in the actual 
 screen switch. 
 So we can use this uh object screen 
 like this. So we're going to loop 
 through these screens and then we're 
 going to update the frames. 
 So once we are done with so the last the 
 last two we're going to look is inside 
 the context we have 
 okay completed. Yeah. 
 So I'm going to scroll down here. 
 I think it's going. So yeah, I'm going 
 to send 
 a different I'm going to send the frame 
 now with the ID. Remember this is taking 
 the 
 uh 
 this this one is going to send the 
 frame. We're using it as a placeholder 
 for the loading. Then once um each of 
 the generation like since we're looping 
 through the screens if each one 
 completes then we're going to send the 
 um frame with the frame ID we got from 
 the after saving to the database. So 
 what we're going to I'm going to say 
 if is existing generation 
 it's a frame 
 update. 
 I think uh 
 should change leave it to frame create. 
 Frame create dead. So this is just going 
 to update the frame list. Then we don't 
 need status for this. We just need to 
 pass in the frame 
 frame. 
 Then we need to pass in a frame ID 
 or we should also just remove the frame 
 ID and let's just pass the screen ID. So 
 we can be able to update 
 the screen. We can get the screen ID 
 from the screen. 
 So I just say screen do ID. Now we can 
 be able to point which frame we want to 
 the loading dummy and frame which we add 
 uh the client side we're going to 
 replace that the actual frame save in 
 database. 
 So the last thing we are going to do is 
 to uh 
 is to update 
 this is a step. 
 So after it is complete, we're going to 
 send the final uh status which is inside 
 the content which is completed. So I'm 
 just going to go back to generate schema 
 and generate screen and then I'm going 
 to just copy. 
 Let me just copy this 
 and let me just paste it here. 
 Then I'm going to say generation 
 completed. 
 generation complete and change this to 
 completed like this. And let's just pass 
 in the project ID. 
 I think that is it. 
 So I need to also add the team inside 
 here. We didn't pass in the team. So 
 I'll pass in the team. 
 The team is going to be team use 
 this team to use sorry team to use 
 like this. So I think that is all. So 
 let's just go into the real time and add 
 the topic inside the real time. So we 
 have um generation stats analysis starts 
 uh analysis completed. Then we have 
 inside the gener each generation we have 
 the frame created we have generation 
 completed. So inside the real time in 
 action we're going to pass all of them 
 here. So I'm just going to pass them 
 here. Generation start analysis start 
 analysis completed frame created and 
 generation complete. So if we head back 
 to the documentation 
 we can see how to use this in the client 
 side. So I'm going to scroll down to 
 where we have the react hook. So if you 
 click on react hook, we can use the 
 react hook to um handle that inside the 
 use. Uh so let's just copy this like 
 this. 
 Copy this and let's go back to the code 
 and then inside inside the context. So 
 just going to canvas context and then 
 let's go down to 
 um yeah to where we had it here. So I'm 
 going to just paste it here. 
 And let's import the fetch real time 
 from the action 
 the real time action. This is it. Fetch 
 real time subscription token. 
 Then let's go back to canvas context and 
 let's import 
 uh I think we didn't install this. So we 
 need to install this. So um okay let me 
 import it. I think we've already 
 installed the time. So I'm just going to 
 scroll up here and let me import it 
 inside here. 
 Yeah. So just import it for at in real 
 time hooks. Then scroll down. Now the 
 error should stop. Then I'm going to 
 remove all of this and we're going to 
 just use the fresh data. So let's use 
 the use effect here. 
 Hopefully this should work. 
 use this effect. 
 Let me import this effect. 
 And then here we can say if not fresh 
 data 
 or fresh. 
 We're going to check length to length 
 is equals to zero 
 return. 
 Then let's look through the fresh data. 
 So refresh data for each. 
 We can get a message 
 and let's just return. So inside the 
 message we can get the topic and the 
 data. 
 So it's a data and then a topic. 
 So we're going to check if 
 data do project id. 
 So this will run for only the project ID 
 that match if it's not equals to uh 
 project 
 ID then return 
 [snorts] like this. So now let's use the 
 switch. 
 So here we're going to use the topic 
 here 
 and we're going to use the first topic 
 which is the generation start 
 and then we're going to set loading 
 status. 
 Let's set that to running. Now we can 
 see the error didn't work after this. So 
 we can have 
 um case here and the next one is the 
 analysis start 
 and then here we can say um set 
 uh loading status 
 to gen sorry to analyze not generating 
 and let's just copy this and paste it 
 there. 
 So once it's um analysis complete 
 then what we're going to do we're going 
 to get the data. We're going to say if 
 data do team 
 then set team 
 id 
 uh data team 
 like this. Remember we pass in the data 
 team inside. Let's go back to So we pass 
 in the team. Yeah. So, I'm just going to 
 go back to canvas context and then 
 um here we're going to say if 
 data screens 
 and data 
 screen 
 length 
 is greater than zero. 
 So now we need to define the skeleton 
 screen. So I'm going to say skele. 
 So which is going to be skele 
 frames 
 you're going to set the type of frame 
 type list which is going to be data 
 screen 
 map 
 sorry 
 So, I'm going to pass in the ID, which 
 is going to be u screen dot id. 
 Then we're going to say let's set this 
 to any. 
 So we're going to pass in the title 
 which is going to screen title or screen 
 name. That's what we have inside the uh 
 inside the analysis 
 uh schema screen name. So let's go into 
 canvas context again and then we're 
 going to pass in the HTML content which 
 is going to be empty string for now. 
 Then we can set in the exploding to true 
 like this. 
 So we need to also pass in give this 
 created as so I think it's not going to 
 fill 
 created as new 
 date. Oh, let's check the frame. Uh, 
 sorry. Inside the project type 
 we set this to. Okay, this is not 
 optional. We can make this optional. 
 I'll remove this. So, we can just remove 
 this. We don't need that inside it. Now 
 we can say set frame 
 get the previous state 
 and then we're going to return a new 
 array with the structure the previous 
 state and pass in the structure the 
 skeleton and frames. 
 Now we've added this. So now the next 
 thing we going to do we're going to add 
 in here. Sorry. 
 So the other one is the created the 
 frame created. Yeah. Which is inside the 
 generation function. Scroll down to 
 where we have. So this has the frame the 
 screen ID and the project ID. 
 So yeah, so let's write the case 
 frame created 
 as a break. 
 So inside here we're going to say if and 
 data do frame 
 then let's update the frame. So we're 
 going to um get the previous uh state 
 and then let's get new set new frames 
 is equals to we create a new uh 
 new array with the previous state with 
 the previous frame. Now we say constant 
 we get the uh the index of the existing 
 frame. So we're going to say new 
 sorry this should be updated frame let's 
 just leave it like this new frame 
 do find 
 by index 
 frame 
 frame do ID is equals to data screen id 
 is equals to data screen 
 ID 
 So if the U index 
 is not equals to one 
 then we say new frame. 
 It's not= sorry it's not= to minus one. 
 There's a new frame we get the index. 
 Now we're going to update that with the 
 data frame. 
 So else 
 we push this new frame 
 push 
 data frame 
 and let's just return 
 our new frame here 
 like this. 
 So uh we are done. So, I'm just going to 
 copy this, paste it here, 
 and I'm going to just remove all of 
 this. 
 I will change this to generation 
 completed or generation complete. Now, 
 we can set um loading status 
 to completed. 
 We can just set time out here. 
 So let me just say this 
 and set 
 um 
 set loading 
 or should we just set this to completely 
 like this or 
 ideal 
 or let me just say to completed 
 Then we can use we can give it some time 
 to update to ideal. 
 So I just say 1,00 here and let's just 
 complete copy this paste it here 
 like this. 
 So here we're just going to update this 
 to project ID 
 and fresh 
 data like this. 
 So I think this is not this is not good 
 but let's um leave it like this. 
 So we are done with this. So let's try 
 and generate a new one. So let's make 
 sure everything's working. So let's go 
 into the canvas page sorry index 
 canvas and um 
 so we have the pending fetching loading 
 idle idle or completed 
 I think we the loading canvas is working 
 so let's just test it out again so make 
 sure the server is running and then 
 let's go back to the browser. 
 So I'm just going to 
 load this again and try to click on the 
 new generation. 
 So let's try again. So I'm going to 
 click on the first um suggestion and 
 then let's click on this. So make sure 
 you load it and let's click on design. 
 Let's see. Hopefully this should work 
 the project. 
 We should wait 
 and see if it's going to Okay, it's not 
 updating. 
 We can see this but we're not able to 
 see the 
 so I'll click on running 
 and we can see that the event has been 
 sent 
 generation is completed 
 now we can see the uh statistics you can 
 see this but I don't know why it is not 
 showing the real time 
 it's showing this but it's not showing 
 the um loading status 
 So, let me go back to 
 um the code 
 and let's check this why it's not 
 working. 
 So, make sure everything is save. So, 
 I'm going to try and test it again. So, 
 let me just remove completed for now and 
 um let's test it out. So make sure 
 server is running and let's go back to 
 the browser 
 and let me just pick a design 
 um a music 
 sorry let's have it 
 tracker app 
 just one screen 
 sign 
 and let's see. 
 So this is going to redirect us to 
 we should see now we can see analyzing 
 and now we can see the screen the 
 placeholder the skeleton. 
 So let's wait for this to complete 
 and now we can see it's completed. 
 Now we can look at what it designed 
 there. 
 So if I expand it, I think it's not 
 taking it's taking up the height like 
 this. But at least it's okay. We can see 
 the title. We can look at the team that 
 was selected. 
 If I pick midnight, you can see that it 
 changes. 
 Uh [snorts] 
 so at least it's not that um model we 
 are using does not give us the best but 
 it work fine. So this is working fine. 
 So let's go and connect the endpoint for 
 create endpoint for generating new 
 screen. So let's just go back to the 
 code 
 and let's go to let me clear everything 
 here. 
 So going to API um project index um ID 
 route. 
 So we're going to just let me just copy 
 what we have here before. 
 So I just copy this. 
 Come inside this uh ID route. Paste it. 
 Import [clears throat] here. 
 We're going to remove project name. 
 We don't need to update project. 
 Um, 
 so what we're going to do now is so 
 let's copy let's copy the um params from 
 this get 
 I'll scroll down here and let's just 
 pass it here. So say comma sorry 
 and paste it here. So I will use ID. 
 Copy this. Scroll down here and paste it 
 here too. So now we have the project ID 
 prompt and we've checked for the prompt 
 and everything. So we going to find the 
 uh let's find the project. Say project 
 is equals to await Prisma 
 project. I'll find first 
 where uh ID 
 and user ID 
 is user dot 
 ID like this. 
 So let's include frame 
 include 
 frames 
 true. 
 So now we're going to send uh the 
 interest. Yeah. So what we're going to 
 do now is we're going to say um we're 
 passing the user ID. We're passing a 
 project ID which is ID. Passing a 
 prompt. Now we need to pass in a frame 
 which is going to be project 
 frames 
 and then team which is going to be 
 project 
 uh and team 
 uh like this. So this is fine. 
 So let's make sure this error is if not 
 and project. 
 Let's throw 
 a new error project 
 not found. 
 So let's just say success and fail to um 
 fail to generate 
 like this. 
 So, let's go into the 
 inside the future going to future folder 
 and then let's go into the use project 
 ID 
 and we're going to just copy just let's 
 just leave it like this. Let's just come 
 over here. 
 Or let me just copy this 
 and let's paste it here. 
 So let's import use modations. I'm just 
 going to remove the router. 
 We are not going to let's import toast 
 like this. So we're going to pass in the 
 project. So let's change the name from 
 use and generate project to use generate 
 number ID. Then we pass in the project 
 ID. We need yeah project ID as a string 
 or no. 
 Then we can pass in the uh 
 let's pass in ID here. 
 So this should be string and not. 
 So pass in the ID here project ID 
 and here let's just remove data and 
 let's say to 
 do success 
 running or generation running 
 started like this 
 fail to generate screen 
 to generate screen. 
 So say this. Now we can use this inside 
 the So let's go into 
 um 
 the canvas floating tool bar 
 inside the component/ canvas 
 and uh let's come here. 
 So let's paste it here 
 and 
 let me import the used innovation. 
 I'm sorry the use design by ID constant 
 is equals to 
 mutate 
 is pending 
 and let's pass in the project ID here. 
 So I need to pass in the project ID as a 
 prop 
 as a project 
 ID of type string 
 and let's pass it here like this. 
 So we have the uh is pending and um u 
 muted. So we're going to have a function 
 here. I'm going to call this handle 
 sorry handle AI generates 
 say if not prompt 
 text 
 just return 
 it 
 by passing the prompt here. 
 So, let's confirm this. 
 Okay, this is not an object 
 text. 
 So let's copy this and 
 sorry here 
 on click. 
 Then here we're going to change this to 
 we're going to set the spending spinner. 
 So let's import spinner 
 um design. Then we're going to set this 
 to disabled. 
 Um is pending 
 like this. I think um that is all. 
 So let's save this. Let's go into the 
 canvas index of CSS and we need to pass 
 in the project ID. Say project 
 ID. 
 wicket ID 
 by this. 
 So everything is fine. 
 So let's go into the page and make sure 
 we're passing this properly. 
 So we are passing the project ID. 
 So let's test this out. I will go back 
 to our browser. Let's design this by 
 clicking on this um icon on this button. 
 Now I'm going to ask the AI to design 
 the user profile from screen only and 
 I'm going to click on this and this 
 should start running and analyzing and 
 this is going to show actually showing 
 the SC already and hopefully this is 
 going to give us the um output and now 
 we can see u the user profile is been 
 generated by the AI um the the screen is 
 already generated but it's not to load. 
 So, we're going to change the model from 
 Gemini 2.5 flash to Gemini 3, which is 
 better than 2.5. So, to use that, you 
 can just come over to open router and 
 search for uh Gemini. Let's go over to 
 model and search for uh 
 Gemini 
 and then scroll down to where you have 
 Gemini 3. 
 So to use Gina 3 uh to get the result we 
 want you going to need to add credit. 
 Yeah. 
 So if you try to use this like this this 
 is going to give us has some weight 
 limiting which is not going to actually 
 generate any uh it's going to fail. So 
 um open price is going to ask us to add 
 some credit. So just come over to credit 
 and you can add a little credit here and 
 test it out. So since I'm already I 
 already have some credit in AI gateway 
 which is an AI SDK gateway. If I go to 
 vis AI gateway then I can click on 
 dashboard 
 and this will take me to my vis account. 
 Then I'll click on AI gateway here. 
 So now you can see I have some credits. 
 You can also try it with the AI gateway 
 which cost which has free free um credit 
 $5 free credit. You can try it out or 
 you can just add uh buy some credit like 
 this $20 
 or you can just change it to $10 like 
 that. So I have some credit. So I can 
 create I can create an API key. I'll 
 click on this. So let me let me delete 
 this key and create a key here. I say X 
 design 
 AI and then click on create key. 
 I'll copy this key and I'll say I have 
 saved the key. So let's let me head over 
 to the code editor. Then I'm going to 
 open the EMV. I'm going to um paste the 
 key here. So I've pasted it here. I'm 
 going to save this and I'm going to go 
 into the generate screen and I'm going 
 to change this from open router. If 
 you're using open router, you just have 
 to add the Google Gemini preview here. 
 But since I'm using AI get from open AI, 
 let me see sorry from V. I'm going to 
 just paste it directly like this because 
 we're using the AIDS already. So I'll 
 save this and I'll scroll down to where 
 we have the where we're calling the 
 other model and I'm just going to add 
 this here. So I'm going to save it. So 
 this is looking good. Um so we're going 
 to also test the two on splash 2. So 
 once you save that, this should restart 
 the uh uh EMV. You can see that we load 
 the EMV. So I'm just going to go back to 
 the browser and then I'm going to go to 
 the app. Then we'll go back to the home 
 screen and then we can try and test the 
 um we can try and test any of these 
 prompts. If I click on so let's test out 
 this first. 
 So let's test out the onsplash two. So 
 I'll click on food delivery which 
 requires which requires images. So I 
 just click on design 
 and then this should start uh analyzing. 
 is running analyzing and then this 
 should take some time because it's going 
 to have to fetch some images from 
 splash. 
 So let's wait for this to run. 
 So now it has uh show the u device 
 skeleton. So uh so hopefully it's going 
 to generate a screen. So let's wait for 
 this. So now we can see the output. We 
 can see that it has completely and 
 generated the UI. So if I drag this up, 
 we can see that Gemini 3 um P is good. 
 We can see the design 
 is looking good. So we can try and 
 change the team. So let's let's see a 
 team that was selected orange and gray. 
 If I pick ocean and blue, you can see 
 that if I click Netflix, 
 see that it's looking good. 
 Now let's select a different team. 
 This one this one is also good. We can 
 we also have uh we can click this are 
 good but this is okay. So uh let's 
 revert back to the orange and gray. So 
 let's ask the to design 
 design 
 the login screen. 
 and the welcome 
 on boarding screen 
 only and I'm going to click on design. 
 So it has started running analyzing 
 and then we should be able to see 
 able to see the design. So we should 
 first of all see the uh the white 
 skeleton showing up here. 
 So let's wait for this. 
 So it has shown the two device skeleton. 
 So it's generating the two screen going 
 to generate one first. So this is going 
 to be the first one and then this is 
 going to be the second one. 
 So now we can see that it has generated 
 the onboarding screen. 
 the welcome on boarding 
 and let's wait for this to run. 
 So now we have the uh onboarding and the 
 login screen and you can see how 
 beautiful the login is. Uh the welcome 
 on boarding made a mistake on the image. 
 The image should have been uh the full 
 background but uh I think pretty much it 
 it did very well. Uh we can change the 
 team for both of them. We can see that 
 the team is working. 
 Uh let's change this to this color. 
 And uh 
 so let me pick rose code and we can see 
 how beautiful they look. So this is 
 great. So we're going to go and work on 
 the uh update endpoint. So once we 
 change the team like this, we've changed 
 the team from the color that was set 
 think orange and gray to rose gold. And 
 if you want to if you want to uh save 
 this, you can just click on the save 
 button and this is going to uh save and 
 it's going to save the uh update the 
 project with the team. So let's go and 
 work on that. So after that we're going 
 to work on the team. So I mean sorry the 
 screenshots. You can click here to 
 screenshot the 
 the entire canvas or you can you can 
 screenshot a uh you can download the 
 image. So let's go to the let me 
 collapse this. Let's go straight to the 
 route 
 uh sorry the API route dot um inside the 
 ID folder route. CX. So I'm just going 
 to copy this same thing here. I'll copy 
 this below here. I'm going to paste it 
 and I'm going to change this from um 
 post to patch. 
 Sorry, 
 like this. This should be capital 
 letter. 
 And then we're going to also check for 
 the section the user the user and I 
 think here we're going to just get the 
 team. 
 So we can say team or we can call this 
 team ID 
 and pass the team. It's a missing team. 
 And then we have the user ID. Now we 
 need to update. So I'm going to change 
 this from fetch find first to update. 
 Update where uh 
 where ID. 
 So we have the ID here. So we're going 
 to also get the 
 uh we're going to pass the user ID which 
 is user ID 
 and then we need to pass the data 
 which is team same team same team same 
 
 team same team same team same team same team same team same team same team ID 
 like this so I'll just remove all of 
 this 
 and then we can pass in the 
 So this is 
 this is okay. We can just say fail to 
 update 
 project. 
 So now we have the update uh endpoint. 
 So let's go into let's go to the 
 features folder 
 and let's go into the use project ID and 
 we can just copy. 
 Okay, we can copy the mutation. 
 We're going to also pass in the project 
 ID. So I'm going to say use 
 update um team or update canvas update 
 project. It's okay like this. pass in 
 the ID here. We're going to change this 
 to 
 to put here team ID. 
 I'll pass it here. 
 So yeah, I'm going let's just change 
 this to patch instead of put and then 
 we're going to say success project 
 updated. 
 I say fail to update project. 
 So now we can use this inside. So let's 
 just copy this and let's go to 
 uh inside the component 
 folder. Then inside the canvas then 
 canvas floating to. So we're going to 
 use this here. It's a constant update 
 project 
 is equals to use update project. 
 Let's pass in the project ID and let's 
 import this. 
 So let's change this to let's change 
 this to update instead of update 
 project. And below here we're going to 
 define the method handle update. I say 
 handle update current team. If there's 
 current team, we say uh return. If 
 there's no current return, then we can 
 say current 
 id like this. So, let's copy this. Make 
 sure uh this uh 
 so make sure this is correct. And let's 
 go down to the um button here. And I'm 
 going to just add this on click 
 passing the handle update. And now we're 
 going to say update dot is pending. 
 We're going to show a spinner 
 and then we're going to say else 
 have the um fragment. So move this in uh 
 inside the fragment and we are done with 
 this. So let's go and test this. Uh 
 let's go and test this. So I'll go over 
 to um my browser 
 and I'm going to try and click on the uh 
 safety 
 this. So let's click on this. 
 So now you can see project u updated. So 
 if I try to reload, 
 let's see if it's going to set this to 
 the same we've updated. 
 So now we can see that it work it work. 
 So we are done with the update uh end 
 point for the canvas. So let's work on 
 the u the screenshot of the canvas and 
 also the individual uh device screenshot 
 or download the images. So we should 
 start with the canvas. 
 So u to handle screenshot in canvas here 
 we going to be using puppeteer. So I'm 
 going to search for next 
 and if you click on the uh example from 
 V 
 you can see that you can read this 
 documentation 
 and this is going to ask you to download 
 propertier core and uh chromium minium 
 minium or main. So we're going to use 
 this when we try to deploy a project but 
 we can download propertier for uh a 
 package it's package not the core 
 version but the propertia itself for 
 look for development but once we want to 
 try to deploy we're going to use core 
 because it's lightweight and works on 
 vis. So let's just go back to the code 
 and let's install um all of them because 
 we're going to be using both of them 
 both uh in development and in 
 production. So let's clear terminal. So 
 let's install Puppeteer first for 
 installer. 
 So we're going to install version 
 24.32.1. 
 We're going to install this as a dev 
 dependency 
 first 
 because this also has a chromium. So 
 we're going to be this works on local 
 development but we're going to be using 
 the um core for vis which work on vis. 
 So let's wait for this to install. So 
 let's install the mpm core and also this 
 chuminium for for um v. So that's 
 installed. This is going to be uh it's 
 not going to be a dev dependency. So 
 we're going to use this in production. 
 So click on this. So this should 
 install. Make sure to install the same 
 version with me. So once we install once 
 that is installing, let's head over to 
 Okay, that's installed completely. Let's 
 head over to the documentation. 
 And then if you scroll down to look at 
 the uh templates that we still provide 
 then we can see uh the template here. So 
 I'm going to scroll down to um the 
 GitHub 
 and we can see let's scroll down where 
 we have the GitHub. 
 So click on there the GitHub repo. So I 
 click on that and we can look at how 
 it's been done here. So we can click on 
 app 
 Then click on the API screenshot. Click 
 on route 
 and then we can see how this is 
 implemented. So the first thing they did 
 was to set a chromium pack URL. So they 
 have uh so if it's in production they 
 have like an example 
 chromium but also in production you also 
 have where they store the chromium part. 
 So we're not going to need this uh for 
 that. We're not going to use this. So, 
 but we're going to also copy this and 
 get chum part which is so downloads once 
 and uh for caching and stuff like that. 
 We can see return cash part if available 
 and then this can be used inside the 
 actual endpoint. 
 So, I I'll copy some. So, I have it 
 already but I've modified it. So let's 
 just go to the code and I'm going to 
 paste that part that part inside the 
 route. So let's create the route first. 
 So I'm going to open app uh API create a 
 folder. I'll call it screenshot. 
 I'll say routx. 
 So I'm going to paste the one I've 
 already modified. So this is it. So we 
 can see that we have the same we saw in 
 the vis example and we have the get 
 chrome part. You can see here once it's 
 not nano promise we can just point to 
 the version we installed. 
 uh then we can see I also point to this 
 and get part and then we also have the 
 return the download commit here just 
 similar to what we have in VU in the 
 example that VC provided. So I'm going 
 to um let's write the export async 
 function. So let's create the route 
 itself. So it's going to be a post 
 route. 
 I'm going say request 
 and request. 
 So, uh the first thing I'm going to do, 
 I'm going to set browser. 
 Browser here. 
 Then let's create try catch here. And 
 we're going to get some data from the uh 
 from the body request body. So we're 
 going to say our request JSON. 
 So we're going to get the HTML content 
 the width. 
 So I'll set the for 800 and I'm going to 
 say height 
 to 600. 
 Then we also need the project ID because 
 we're going to be using the project ID 
 to update since we're going to use this 
 one endpoint for um taking screenshot 
 for individual device and also the 
 entire canvas. So we need to also save 
 the um the image when we try to 
 screenshot we're going to save the image 
 when after generating if we go to 
 schema. 
 Remember we had thumbnail here. So after 
 generation is completed, we're going to 
 call this endpoint to screenshot the 
 entire canvas and save that inside the 
 um inside the database. So now um we 
 need to make sure endpoint is secure. So 
 let's go back to route and copy the kind 
 uh the let's copy the section 
 and go back to the screenshots and let's 
 paste it here. 
 So let's import get kind server 
 and there we can get the user ID is 
 equals to user dot ID like this. 
 So now we need to check the environment 
 we need to detect the environment. So 
 this is because we are going to be using 
 we're going to be deploying this to vil. 
 So 
 so we're going to say constant is 
 production. So if it's production 
 sorry production 
 is equals to process 
 env 
 is equals to production like this. 
 Then we also need to check if this is 
 vile. We say if v 
 is equals to sorry it's equals to 
 process 
 env. 
 So this is going to set as one. So we 
 need to use a double exclamation mark to 
 make this boolean. So if there is v 
 is one to true. So if it's vis now let's 
 set puppeteer sorry 
 let's um puppeteer 
 which is of um any 
 let me just 
 set this to the 
 entire file then we need also the launch 
 launch option 
 uh which is also type 
 So equals to going to set this to 
 headless 
 true like this. So we can say if 
 if is production 
 and is zero 
 then we going to be using constant 
 chromium. We're going to get a chromium. 
 It's await 
 import 
 uh at So let's import similar thing we 
 did here. 
 Let's just copy this. 
 So let's paste it here. 
 And I say property 
 is equals to await import. 
 We are going to import propertia core. 
 Yeah. And now we can get the executable 
 part. So executable part we can just 
 copy. 
 Okay. This is coming from the chromium. 
 So I'm just going to paste it here. It's 
 going to be equals to await 
 get chromium part which is this method 
 here. 
 So now we can see launch 
 option 
 like this. So we're going to end the 
 structure. Okay, this should be launch 
 like this. 
 La la la la la la la la la la la la la 
 la la la la la la la launch option. So 
 let's do structural launch option 
 and then we're going to pass in the 
 chromium and also the executable part 
 like this is okay. But if this is on 
 development, we don't need to use this 
 uh chromium. We're going to use the 
 actual uh we're going to set property 
 here. 
 It's going to be equals to 
 let me copy this. Sorry, I think I made 
 a mistake. Not inside here. 
 This should be else 
 puppet is equals to 
 import 
 puppeteer 
 which also comes with chromium already 
 inside. So now 
 uh why is it showing? 
 Okay. 
 So now we're going to say browser 
 is equals to await 
 puppeteer 
 um launch. 
 We're going to pass in the launch option 
 here. 
 So now we're going to create a page. You 
 say constant 
 um page 
 is equals to await 
 browser 
 dot new 
 page 
 like this. 
 So um now we need to set the view port. 
 So set and view port view port size 
 So I say await 
 page set 
 view. 
 So wait 
 inside this number I pass in the width. 
 The height is going to be number 
 height 
 and then device 
 scale 
 factor 
 which is going to be two 
 like this. So now we need to set the 
 content. So since we using HTML and not 
 a URL, we're going to set HTML 
 HTML content 
 like this. So we can say uh sorry await 
 page 
 set content 
 HTML. 
 And we can see wait uh wait until 
 document 
 dump content sorry dumb content loaded 
 like that. So we can um also pass set 
 like a delay. So I'll just set like a 
 set time out like this. So give it a so 
 that the font and everything should load 
 and then we can then capture screenshots 
 sorry screenshots or capture. 
 So we're going to say constant buffer 
 is equals to our page 
 dot screenshot 
 type 
 png. 
 There we can see full 
 uh full page 
 force. 
 So now we have the buffer. Now we can 
 now save this. So I say if project ID 
 was passed then we we know that we need 
 to update the um project. So I'll say 
 project ID I'll say constant 
 and B 64. So convert this to B 64. I say 
 buffer 
 L2 string 
 B 64. 
 So now we can see our Prisma 
 update sorry project. 
 So let me import Prisma here. 
 So Prisma project 
 does update 
 where um ID is project ID 
 and user ID. 
 Then data we can update the thumbnail. 
 So data 
 image / PNG 
 column or semicolon or column then we 
 say base 64 
 we add a comma there and we pass in the 
 base 64 
 like this. 
 So we have buffer to string and B 64. 
 Then we also have Prisma project updates 
 data image PNG B 64. Then we So we're 
 going to just return next 
 response.json 
 Jason 
 B 64 like this. 
 So let's import this. 
 So now this is just going to uh return. 
 So but if we're not passing any project 
 ID, so we're just going to return 
 a new 
 next response. 
 So we want the client to be able to get 
 the buffer and then we can download the 
 image. Uh we can download the image from 
 the client side. So we're going to say 
 buffer 
 as any 
 we can set the header content type. So 
 this is going to send this in chunk by 
 chunk. So we're going to say content 
 type 
 image/png. 
 Why this is okay? 
 So now if there's any error we can just 
 return 
 x response 
 x respond.json JSON 
 error. It's a fail to 
 a screenshot 
 and then we can set the status to 500. 
 Let's just consider a log 
 error like this. So we're done with the 
 end point. So let's go and integrate the 
 end point where we're going to use it. 
 So the first place we're going to 
 integrate it. Let's 
 so we need to also add close the 
 browser. We should have finally 
 browser 
 close. So a browser close. So this is 
 going to close the browser. So now we're 
 going to use the API inside the route. 
 Um, 
 let's go straight to components canvas 
 inside the canvas index.txs. 
 Then let's go down. Let's go into the 
 device component device frame first. 
 And here we're going to handle the um 
 download. Remember we pass in inside the 
 toolbar we have the download PNG and the 
 downloading is downloading. So let's 
 define a state here. So I'm going to set 
 is downloading and set is downloading. 
 So we can pass is downloading right 
 inside the uh device frame sorry device 
 frame to bar and we can also add disable 
 to is downloading. 
 Now let's define the function here. So 
 we're going to say handle 
 constant handle 
 handle downloading 
 download PNG 
 like this. So if you use call back 
 and then we are going to pass in async. 
 Let's import and use coverback 
 and let's also import as. 
 So let's come down here. So inside here 
 we're going to say if 
 sorry if it's downloading 
 then return 
 then we can set is downloading sorry is 
 uh downloading 
 to sorry to true. 
 Now let's u set dry catch here. So 
 second response 
 response 
 is equals to await ass/ 
 API/ screenshot 
 and then we need to pass in the HTML 
 content which is going to be full HTML 
 which is which is from this 
 Then we need to also pass in the width 
 and then the height 
 which is going to be frame 
 frame size 
 dot height 
 is so you can use frame size or width 
 but I just want to keep the width the 
 same the default width here. So we have 
 420 
 or we can also just set frame size 
 dot width if you want to increase it 
 like this 
 like that. So it depends on let's just 
 leave it like this 
 and then 
 have comma here. 
 We need to also uh set this to response 
 response type. 
 Yeah, we also need to set validate 
 status 
 status. 
 So we need to check if our status is 
 greater than equals to 200 
 and status is less than 300 
 or uh status 
 um is equals to uh 304. 
 So this is going to return a success. So 
 now um below here we're going to say 
 constant URL 
 is equals to window 
 dot URL 
 dot create 
 object URL 
 response data 
 then let's set let's create a link 
 so say document 
 create element 
 tag. 
 So we going to then say link 
 ref 
 is equals to URL. 
 Then link uh download 
 is equals to we're going to set the 
 title title 
 replace. 
 So we're going to replace the space with 
 dash. So we're going to define a regular 
 expression 
 like this. 
 I say hyphen here. So to lower case 
 and let's add an if here 
 let's say dates 
 now 
 png 
 like this. So now we need to also then 
 click on the link. So click 
 then after we click on the link window 
 url 
 revoke 
 object URL then pass in the URL. 
 Now we can say uh those let's import 
 those um son from sona and let's say 
 success 
 uh image downloaded a screenshot um 
 let's say screenshots 
 uh downloaded. 
 So if there's any error you can say 
 console do error 
 error 
 and let's say toast 
 dot error 
 fail to uh field 
 to screenshots. 
 Then finally 
 set is downloading to false. 
 So let's set the uh dependency 
 like this. Now we can use this. Let's 
 just copy and download PNG. 
 Go down to where we have the uh 
 on download uh PNG and let's paste this 
 here. 
 So save this and let's go ahead and try 
 it. So let's run np. 
 So the server is running now. 
 Let's test it out. So I'm going to click 
 on the um icon here, this download icon. 
 And once I click on this, you can see 
 the uh the spinner is showing up here. 
 So let's wait for this to download. 
 So let's wait. 
 So now it has downloaded successfully. 
 If I um open the image which was 
 downloaded, 
 you should be able to see that we can 
 see image now which is um clean and it's 
 looking good. So now we've seen how to 
 use uh how to um screenshot or download 
 the um individual frame or screen. So 
 now let's work on the uh screenshot and 
 also when we generate a new uh a new 
 project or generate a new frame we are 
 going to screenshot the canvas so it app 
 so we save it in the project thumbnail. 
 So let's go back to the code. 
 So before we go ahead and work on the um 
 canvas screenshot. So go into the canvas 
 component 
 then I want to comment this out and pass 
 the uh it's loading inside the frame. So 
 it's movable. So I'll say is loading 
 is equals to frame 
 do is loading. 
 Then inside the device frame uh we have 
 pass in is loading here. Then I'm going 
 to say it's loading is equals to first. 
 And then I'm going to copy this uh it's 
 loading. Then scroll down to where we 
 have I frame here and say if it's 
 loading then let's show the device 
 device frame skeleton. 
 So let's pass in style 
 position 
 relative 
 and we can set width. 
 Um let's give the weight 800 height 
 or we can use the actual width we have 
 here. The default width we have here we 
 have 420 and 800. 
 So let's set this to weight 
 and height 
 animal height like this. 
 So now we're going to say else 
 and let's pass in the I frame like this. 
 So now if let's also set 
 let's also set disabled to is loading. 
 like this. So, let's save this and let's 
 go into the canvas 
 and uh inside the um canvas um floating 
 tool bar. We're going to we're going to 
 implement the screenshot. So, I just 
 collapse all of this. So, we're going to 
 plug connect the uh function to this 
 button. So, let's go up uh in this side. 
 We going to pass in some prop here. So 
 I'm going to pass in the in screenshot 
 uh screenshotting and on screenshot 
 function. So let's pass in the prop here 
 for this. And let's add in a type. 
 the uh a screenshot 
 sorry 
 a screenshot 
 we can set this to boo 
 and then on screenshots 
 like this. So let's pass this here. 
 Let's scroll down to where we have the 
 button or we can just say disabled 
 is uh screenshotting 
 and we can just do the same thing we did 
 here. 
 Cut this out and say if is 
 screenshotting 
 then show a spinner 
 else 
 pass the camera icon then we say on 
 click 
 on screenshot like this. So let's go 
 into the canvas itself. 
 Let me remove this. Then scroll down 
 here. So we need to pass that here. So 
 we're going to define the state for 
 that. So let's define the state for in 
 screenshot and also the use web for 
 canvas. Just define canvas web. 
 And now let's pass in a screenshot. 
 Let's pass it inside the canvas floating 
 bar. 
 And then we have on screenshots 
 which we're going to define. 
 Yeah, we're going to say uh constant 
 handle 
 and canvas 
 screenshot. 
 Let's use scroll back. 
 Let's import it. 
 Now let's pass it here. 
 So, so to screenshot the canvas since we 
 are going to be using uh the HTML 
 content, we can't use the URL because we 
 need to proper need to authorize like uh 
 need to authorize before accessing this 
 page. So we have to get the HTML content 
 of this page and we are going to be 
 using the use ref hook. So we're going 
 to pass the use ref hook here. So we're 
 going to say ref. 
 So this is going to capture everything 
 like from here. So it's going to exclude 
 the canvas control and the canvas 
 floating. 
 So let's just scroll up. Now we're going 
 to create a function 
 or let me create a function below here. 
 It's a function 
 get canvas 
 uh HTML 
 content. 
 So say constant element is equals to 
 canvas root 
 current. 
 I say if not element 
 then we can just say um 
 error 
 or we can just console we can just say 
 um canvas 
 canvas 
 element 
 not found. 
 So we're going to first of all set it st 
 to equals to empty string. 
 Now we need to for loop as a constant 
 sheet 
 of documents. So we need to get the 
 styles 
 document 
 style sheet 
 and then we say try catch first. Yeah. 
 Let's just close this. 
 So here we're going to say for loop 
 again 
 constant rule 
 of sheets 
 dot CSS rules. 
 So say sty sheet sty 
 equals to row dot css 
 um text like this. Now 
 u we can return 
 we can return the elements which is L 
 and then the HTML 
 we going to wrap this inside 
 inside an HTML. So I'm going to paste it 
 here. 
 So like this. 
 So elements I think we we check this. 
 this if not this. Okay, let's set return 
 more like this. 
 So now we've pass in the style. We also 
 pass in the body. Now we can get the 
 content for the canvas. So we can use 
 this inside um the screenshot. So we're 
 going to pass in 
 uh 
 the project ID. So let's say try catch. 
 So we think we have the project ID here. 
 So we're going to make use of it inside 
 here. 
 So we're going to um have the project 
 name. So what we're going to do, we're 
 going to get the canvas HTML content. 
 Let's move this up here. 
 So we're going to say if not the HTML 
 then toast error. Then we can say set 
 uh we need to remove the set selected. 
 So set. So let's get start from here. 
 Set selected frame ID 
 like this. 
 So we're going to deselect the selected 
 frame. So set to no. 
 Then we set is loading a screenshot. 
 Screenshot intro. 
 Something is wrong here. 
 Okay. So now um so now let's get set 
 response. 
 So we need to import as here. So let's 
 import. So import 
 as from Asio 
 and then let's scroll let's scroll down. 
 So let's add async here. 
 We say await 
 um aspost 
 slash API/ screenshots. 
 Then we need to pass in the content is a 
 HTML 
 resort. HTML 
 then we say width 
 result dot elements 
 do the scroll 
 height 
 sorry scroll width 
 or you can set the width if you want we 
 can set um 
 maybe 1 2 0 0 
 but I'm going to set a height 
 700. 
 So, let's just go into the device um 
 frame and copy what we already did here. 
 So, I'll just copy 
 um from here. Copy everything like this. 
 Let's go into index or CSS tss canvas. 
 index.t CSS 
 and I'm going to just paste it here. 
 So I think I need to 
 so error should stop. So we need to use 
 the project name. So just copy project 
 name 
 and just paste it here like this. 
 So let's pass in the project name. 
 Okay, project name can be null. 
 So what we can do? We can just set uh 
 so let's say constant title is equals to 
 project name 
 >> for canvas 
 and let's pass in title here 
 like this. 
 So we can say u let's say custom.log 
 log error 
 and then post your error 
 field 
 to screenshot 
 canvas 
 and then finally 
 we set uh a screenshotting to false. 
 So now let's go ahead and test it. So, 
 make sure the server is running 
 and let's go into the preview. 
 So, let's go into the browser. Just 
 reload this. 
 So, let's test it out. So, I'm going to 
 click on this icon now. 
 And now we should see that it is um 
 loading. 
 And now it has screenshot. You can see 
 screenshot downloaded. So let me 
 let me move this. Let me open the image. 
 And now you can see that the screenshots 
 works. 
 So I 
 you can see that we're able to 
 screenshot the food review. If you want 
 you can also hide this uh 
 this u frame to bar from displaying when 
 you try to screenshot. 
 But for me everything is fine. So we are 
 done with this. 
 Now let's go ahead and work on the uh so 
 let's go back to the home screen 
 and we're going to u screenshot when we 
 try to u generate a new frame or a new 
 project. 
 So let's go to the code and let's 
 implement that. So inside the code. 
 So we're going to check is if um the 
 loading status is completed 
 then we are going to screenshot and save 
 the uh and save the screenshot 
 to the project thumbnail. So we can do 
 that. We're going to be using use 
 effect. So I move this down. 
 I'll create a let's copy this. Let's 
 copy the what we have here. 
 So, copy it and paste it here. 
 So, let's change this to save 
 thumbnail 
 to project 
 this. 
 Now we can we can pass in the project 
 um ID 
 can say type string 
 or not 
 and then we're going to say if 
 project 
 if project ID 
 just return. 
 Uh, this I want to just return now. 
 Yeah. 
 So, I'm going to also um 
 remove the screen shortening 
 and then uh I think this is okay. So, 
 we're going to pass in the project ID 
 here. 
 So if you look at the route this is 
 going to sorry route screenshot this is 
 going to update this is going to um 
 update the project. 
 So uh I think 
 we don't need this. We're not 
 downloading 
 and we don't need this. 
 So if response 
 data 
 console.log 
 thumbnail 
 save 
 response 
 do data. 
 So let's just remove everything like 
 this. 
 Reset frame to no. 
 So let's say use effects. 
 So let's import use effects. 
 So we're going to say um if projects 
 id return 
 then if 
 loading status 
 ask equals to completed 
 return. 
 So say constant handle 
 handle thumbnail save 
 equals to async. 
 Yeah, we can just say try. 
 right there. We don't need we don't need 
 a try catch 
 or we can just use it directly like 
 this. We can just say uh pass in the 
 function and then we can say project ID 
 like this. 
 So update the uh dev sorry the 
 dependency 
 and we are done with this. 
 So we are done. So let's test it out. 
 Make sure your server is running 
 and let's go to the browser 
 and let's test. So make sure you reload 
 first 
 and I'm going to click on this finance 
 tracker and I'm going to click on 
 design. 
 So let's see 
 analyzing. 
 So we should be able to see the console 
 log once it save the uh screenshot. 
 So it's analyzing 
 now. We can see that showing the name of 
 the frame. So this the reason why we 
 added the uh this the reason why we 
 added the it's loading inside the frame 
 so it's movable. 
 So let's wait for this to complete 
 and you can see that the tools the two 
 uh icons are disabled. 
 And we can see that it has stopped. 
 So let's see this screenshot. Now we can 
 see that thumbnail save. We can see that 
 it work. So we can also add finalizing 
 to uh the top if we saving. And if we go 
 back to the home screen 
 now, we should be able to see we can see 
 the screenshots now. So this is great. 
 This is great. So I just also designed 
 this uh this app recently. If I click on 
 this now, you should be able to see the 
 design is looking great. Welcome on 
 boarding screen lo and then the 
 dashboard. 
 So we can see how how good looking it is 
 and you can take screenshots. You can 
 click on it to and download the image 
 and view everything. So if you go back 
 to the home screen, we can see the 
 thumbnail. Before we go ahead and start 
 deploying our project, let's uh let's go 
 into the components. I made some 
 changes. So if you go into uh index cxs, 
 if you scroll up to where we have the uh 
 save thumbnail to project. So I have the 
 state here we can see is saving and set. 
 So I've added it to the save thumbnail. 
 The reason why I added it is because I 
 added it here. So once it's saving, it's 
 going to show finalizing. And if you 
 scroll down to the canvas loader, you 
 can see I added the umizing here. And 
 then you can see this is equals to 
 finalizing. 
 And and that is it. So you can just add 
 the um saving. And lastly, I also notice 
 if you go into the canvas context, I 
 forgot to update the set loading state 
 to generating. 
 So I've already updated that. So just 
 update that. So it does not show only 
 analyzing till it's complete. So uh that 
 is all. 
 So now let's uh let's go ahead and 
 deploy this project. So uh let me cancel 
 inest 
 and then cancel 
 uh so we cancel the server and inest 
 and let me clear 
 this. So say add 
 coms 
 and 
 that's a first first uh first commits. 
 So I've already have um let me open my 
 So now if I go into the GitHub I already 
 have a GitHub repo I've added here. So 
 that's why you can see all the file 
 added. Well it's already updated. So 
 let's go to the browser and let's create 
 a rep. So I'll create a new rep here. 
 Our first egg design sorry egg design 
 mobile agent 
 make this um and let's click on create 
 on creating repo. 
 So now I'm going to uh change this to so 
 this should be um I'm already in the 
 main main branch. So I'm just going to 
 add this. So let's go to the code 
 and let me paste this here. 
 So I'll change [clears throat] this to 
 um new. 
 So let me push this 
 So this if I go back to the browser 
 and I reload this 
 now we can see uh this has been added to 
 the GitHub. 
 Now let me open V. 
 So let's create a new project 
 and I'm going to uh select X mobile 
 agency SAS. Click on import 
 and then let's change this to um X X 
 design 
 AI 
 AI. 
 Then let's also add the EM variable. 
 So I'm going to copy everything I have 
 inside my EMV. So I'll quickly do that. 
 So I've pasted the EMV. So just paste 
 everything here. We're going to still 
 come back and update this URL. So let's 
 go down and let's click on deploy. 
 So I think I also made a mistake. Let's 
 go into code review. 
 So inside the code um then let's go into 
 packet.json. 
 So we forgot to add Prisma sorry um post 
 install for um Prisma we say Prisma 
 generate 
 like this. So let's push this now. Let's 
 add this 
 add and post 
 post install for Prisma. 
 So let's push this to main. 
 So now let's go back to to the browser. 
 Now this should update. 
 So let's try and click on deploy. So 
 make sure you also add nodev production. 
 Now let's click on deploy. 
 So this has started to build. 
 So it's th an error. So what I'm going 
 to do, let's just go to the code and 
 then let's remove so just remove the u 
 the request here. So, I'm going to save 
 this again and push. 
 So, let me push this. 
 So, let's go to the browser and then 
 I'll go back to the dashboard 
 and I'm going to click on this so we can 
 create a new deployment. 
 I think it automatically build after I 
 made a boot. So, let's check the 
 deployment. So it's build it. Okay. It 
 we can see the build log. 
 So everything worked. 
 So everything worked. So let's just go 
 back into 
 let me go back and then click on this 
 and then go to settings. 
 So I'm going to update the environment 
 variable. 
 So I'm going to update the uh kind. Let 
 me get the doain. 
 So x sign 
 I'll copy this 
 and then let's go into environment 
 variable. 
 Then scroll down to where we have 
 kind 
 issue URL. Okay. Not this one. Kind site 
 URL. Yes. 
 So let's just update this 
 edit 
 and change this to this doain. So you 
 can see https 
 and let's paste this. So copy this and 
 then click on save. 
 And then also for the log URL edit 
 update this and click on save 
 and also uh the login. 
 Let's edit this login with direct URL. 
 Paste this 
 and then save. 
 So I think that is all. 
 So let's redeploy. 
 Let's redeploy this. 
 So we can go to deployments and you 
 should be able to see it has started 
 building. So I'll go to kind 
 let me go to 
 okay so I have the project already open. 
 So let me open it. 
 So I've uh logged into the account. So 
 let me click on the um project we 
 created. Then scroll down to where we 
 have 
 query. So let's just paste this. Copy 
 the API. 
 So I'll just say / paste this like this. 
 So I'll copy this again. 
 I'll pass it here too. 
 So I think uh 
 so that guys that is it. 
 Okay, let me just paste this here and 
 let's just save this. 
 So it has updated. So let's go over this 
 has built. So if I click on S to sign 
 yeah if it's still app 
 this should open. 
 So we're not signing. So let's click on 
 sign in. 
 Let's see it is going to work with SC. 
 So it's working. So I can use Google. 
 So I've logged in into the account and 
 we should be able to see the recent 
 project which we already have 
 to load. 
 project. 
 So I notice after signing in it's 
 showing fail to load project. If when I 
 went to go to VC I checked it and I saw 
 that this is showing 500 error due to 
 Prisma generates not found or Prisma CL 
 not found uh client sorry Prisma clients 
 not found. So if I click on this now, 
 if I click on this, okay, we can see 
 that the error is coming from Prisma. So 
 what we should do, we should go back to 
 the code and um what I did there was to 
 change this from Prisma client to Prisma 
 client JS and let's try this work. So 
 I'm going to update again. So let me add 
 um 
 updates 
 Christmas 
 I'm going to put 
 so this has let me go back to the 
 browser 
 So let's go to deployment. So this 
 should start running. 
 This should create a new deployment. So 
 let me go back 
 and I'm going to click on it again. 
 Then click on deployment. 
 Then you see it is building. So let's 
 wait for this to build. 
 Let's check um the build log. 
 This should we can see generated Prisma 
 client. 
 We start by importing. 
 Okay. Hopefully this should work. 
 So let's wait. 
 So that's complete. So let me try and 
 reload this again. Hopefully this work. 
 So it works. So this was uh so make sure 
 you update that to u Prisma and client 
 GX. So if I click on this, I should be 
 able to uh see. So it's loading the 
 project. I should be able to see the 
 project. 
 So we can see that it's working after 
 deploying. So now we need to connect 
 inex. Remember we're normally using the 
 local host uh 8288. So just make sure to 
 go back to your inest account and we're 
 going to add inest to vis. So um so just 
 come over to integration. 
 I think uh we can connect to vis. 
 Let me check app. Okay. Get started. 
 Yeah. Let's connect to app sync with V. 
 So can manage V integration. 
 Okay. We need to integrate V. So you can 
 click here and just click on integrate 
 V. So click on connect V to ingest. 
 So click on add integration 
 then select account. 
 So I've already installed this before. 
 So just click on just um you can select 
 a specific product and project or all. 
 So I've already installed. So if I 
 select a project, it's going to disable 
 this option. So click on continue. So, 
 I'm going to u find the project. 
 So, let me let me just save 
 configuration. And 
 so, now let me find the project. So, 
 I'll scroll down to where we have 
 the AI. 
 So I found it here. I think this is it. 
 Okay, this is it. X design AI. 
 That's what we have here. X design- AI. 
 So let me click on this configure. 
 So click on enable. So enable um the 
 um project status. 
 So determine whether or not in will 
 communicate with your visual 
 application. We have pass in the part. 
 So we need to create a deployment key. 
 Let's go to the project we deployed. 
 Let's click on settings and then let's 
 go to deployment protection. So just 
 enable this if it's not enabled. Then we 
 can click on add. 
 Then leave blank. 
 and click on add. 
 And this is going to generate a. 
 So you can click on this to copy. So 
 click on copy. Then let's go back to uh 
 inex. And let's paste it here. 
 So once you paste it. Now let's click on 
 save configure. 
 So it has save. So we can go back 
 and let's check if if it's able to pick 
 up the functions. So it's not working. 
 So let's go back to app. 
 So it's not able to sync. 
 So let's go to let's click on sync 
 manually. 
 Let's paste in the part. So, I'll just 
 copy um the S design AI VC app and let's 
 go over toest 
 and let's just paste it and say API/est 
 and click on 
 sync here. 
 So, let's wait for this. 
 So I think it failed. So I think the 
 best way for me to do this is to do this 
 manually because um it's not able to 
 sync. So I'll click on sync new app. I'm 
 going to manually. So I'm going to say 
 uh 
 x a i v app then click on sync app. 
 So I keep failing. So let me look at 
 this. So I notice I I was using a wrong 
 app URL. So I've changed it to the 
 deployed one I have. So let me click on 
 sync now 
 and this should work because I've 
 updated the URL to the right one. 
 So let's wait this. Let's wait for it to 
 load. So now you can see that it is sync 
 and if you check the functions you can 
 be able to see generate function and the 
 hello uh generate UI screen function and 
 hello function. So we can see that 
 everything is connected now. So now we 
 can we can then generate a a design. So 
 I just click on fitness activity app. 
 I'll just say uh design 
 a fitness 
 app 
 uh 
 dashboard 
 screen 
 only. 
 So let me first of all make sure I 
 reload this. Paste this again uh design 
 fitness dashboard screen. Then click on 
 uh submit or design and um we should be 
 able to redirect us to you can see 
 uh you're not able to say let's check if 
 this is wrong. 
 So let's check one. 
 So it's running. If I check back, okay, 
 we can see that it's generating 
 and we can see the fitness dashboard. So 
 this is working fine. So let's wait for 
 this to complete. 
 Now we can see that has generated the 
 screen. 
 Uh it's just finalizing and that should 
 screenshot the uh 
 the canvas. So we can see that this is 
 looking good. 
 So let's wait for this to finalize. 
 Okay. So I think it is done. So we can 
 change team and see that everything 
 works fine. 
 So we can say everything is working 
 fine. You can change the theme 
 and it's looking um 
 it's looking great. 
 So we should also test the uh 
 screenshot. So I'll click on download 
 here 
 and let me see if this is going to work. 
 So we can see that it work. If I open 
 this in a new tab, you can see the image 
 was downloaded. 
 um you can see the uh 
 the design. So if I go back to the 
 canvas now, you can see everything 
 everything work fine. So um so that is 
 the end for this video. So make sure um 
 you like, share and subscribe to the